(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    153965,       3491]
NotebookOptionsPosition[    153464,       3471]
NotebookOutlinePosition[    153807,       3486]
CellTagsIndexPosition[    153764,       3483]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell[BoxData[{
 RowBox[{
  RowBox[{"junctionMarketStreet", "=", 
   RowBox[{"Function", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"position", ",", "rotation", ",", "return"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"Block", "[", 
      RowBox[{
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"mStreetPts", "=", 
          RowBox[{"Map", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Plus", "[", 
              RowBox[{"#", ",", "position"}], "]"}], "&"}], ",", 
            RowBox[{"{", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"kerb", " ", "1"}], "*)"}], "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.86"}], ",", "54.55"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.14", ",", "54.55"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.20", ",", "52.92"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"7.328", ",", "43.62"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"7.32", ",", "9.10"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"7.54", ",", "7.85"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"8.16", ",", "7."}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"9.28", ",", "6.5"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"10.78", ",", "6.25"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"12.78", ",", "6.25"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"40.74", ",", "6.`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"40.74", ",", 
                  RowBox[{"-", "3."}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"8.26", ",", 
                  RowBox[{"-", "3.099"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"7.204", ",", 
                  RowBox[{"-", "3.224"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"6.33`", ",", 
                  RowBox[{"-", "3.724"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"5.32", ",", 
                  RowBox[{"-", "4.54"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.64", ",", 
                  RowBox[{"-", "5.75"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.26", ",", 
                  RowBox[{"-", "7.099"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.26", ",", 
                  RowBox[{"-", "8.5"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.022", ",", 
                  RowBox[{"-", "42.41"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1.057", ",", 
                  RowBox[{"-", "62.62"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1.025", ",", 
                  RowBox[{"-", "66.615"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "5."}], ",", 
                  RowBox[{"-", "66.75`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "5.056"}], ",", "43.75"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.92"}], ",", "53.2"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"laneMarking1", " ", "2"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"1.08", ",", "54.05"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1.14", ",", "17.60"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"laneMarking2", " ", "3"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0.70", ",", "48.25"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.90"}], ",", "41.25"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.66"}], ",", "17.65"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"laneMarking3", " ", "4"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"4.26", ",", "43.05"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.32", ",", "17.65"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"stopLine1", " ", "5"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.719"}], ",", "17.65"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"7.14", ",", "17.60"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"islandLine", " ", "6"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.28"}], ",", "21.85"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.519", ",", "19.60"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"crossing11", " ", "7"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "4.72"}], ",", "12.90"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"7.14", ",", "12.90"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"crossing12", " ", "8"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "4.72"}], ",", "9.90"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"7.14", ",", "9.90"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"laneMarking4", " ", "9"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0.960", ",", 
                  RowBox[{"-", "18.19"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.96", ",", 
                  RowBox[{"-", "41.599"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "2.09"}], ",", 
                  RowBox[{"-", "62.2"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "2.04"}], ",", 
                  RowBox[{"-", "66.55"}]}], "}"}]}], "\[IndentingNewLine]", 
               "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"stopLine2", " ", "10"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0.96", ",", 
                  RowBox[{"-", "18.099"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "4.779"}], ",", 
                  RowBox[{"-", "18.099"}]}], "}"}]}], "\[IndentingNewLine]", 
               "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"laneMarking5", " ", "11"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.92"}], ",", 
                  RowBox[{"-", "18.15"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.92"}], ",", 
                  RowBox[{"-", "41.349"}]}], "}"}]}], "\[IndentingNewLine]", 
               "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"crossing21", " ", "12"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "5.04`"}], ",", 
                  RowBox[{"-", "14.949"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.14", ",", 
                  RowBox[{"-", "14.949"}]}], "}"}]}], "\[IndentingNewLine]", 
               "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"crossing22", " ", "13"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "5.04"}], ",", 
                  RowBox[{"-", "12"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.14", ",", 
                  RowBox[{"-", "12"}]}], "}"}]}], "\[IndentingNewLine]", 
               "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"crossing31", " ", "14"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"11.059", ",", "6.25"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"11.059", ",", 
                  RowBox[{"-", "3.049"}]}], "}"}]}], "\[IndentingNewLine]", 
               "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"crossing32", " ", "15"}], " ", "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"14.059", ",", "6.25"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"14.059", ",", 
                  RowBox[{"-", "3.0499"}]}], "}"}]}], "\[IndentingNewLine]", 
               "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"stopLine3", " ", "16"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"17.24", ",", 
                  RowBox[{"-", "3.049"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"17.24", ",", "2.95"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"laneMarking6", " ", "17"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"17.3", ",", "2.95"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"41.9", ",", "2.85"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"laneMarking7", " ", "18"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"17.3", ",", 
                  RowBox[{"-", "0.049"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"32.9", ",", 
                  RowBox[{"-", "0.149"}]}], "}"}]}], "\[IndentingNewLine]", 
               "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"arrowPts1", " ", "19"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.59"}], ",", 
                  RowBox[{"-", "23.19"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.59"}], ",", 
                  RowBox[{"-", "19.94"}]}], "}"}]}], "\[IndentingNewLine]", 
               "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"arrowPts2", " ", "20"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.09"}], ",", 
                  RowBox[{"-", "22.75"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.09"}], ",", 
                  RowBox[{"-", "20.449"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.69", ",", 
                  RowBox[{"-", "20.449"}]}], "}"}]}], "\[IndentingNewLine]", 
               "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"arrowPts3", " ", "21"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"20.74", ",", 
                  RowBox[{"-", "1."}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"17.99", ",", 
                  RowBox[{"-", "1.105"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"17.98", ",", 
                  RowBox[{"-", "3.049"}]}], "}"}]}], "\[IndentingNewLine]", 
               "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"arrowPts4", " ", "22"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"20.98", ",", "0.549"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"18.12", ",", "0.549"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"18.12", ",", "2.15"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"arrowPts5", " ", "23"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"2.58", ",", "21.90"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.58", ",", "19.15"}], "}"}]}], 
               "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{"(*", 
                RowBox[{"arrowPts6", " ", "24"}], "*)"}], 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"4.96", ",", "22."}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.96", ",", "19.6"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"6.7", ",", "19.6"}], "}"}]}], "\[IndentingNewLine]",
                "}"}]}], "\[IndentingNewLine]", "}"}], ",", 
            RowBox[{"{", "2", "}"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"nodes", "=", 
          RowBox[{"Map", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Plus", "[", 
              RowBox[{"#", ",", 
               RowBox[{"(", "position", ")"}]}], "]"}], "&"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"-", "2"}], ",", 
                RowBox[{"-", "66.76`"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"1.113`", ",", "54.5`"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"40.9`", ",", "2.868`"}], "}"}]}], "}"}], ",", 
            RowBox[{"{", "1", "}"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
          "control", " ", "points", " ", "should", " ", "correspond", " ", 
           "to", " ", "order", " ", "of", " ", "paths"}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"controlPoints", "=", 
          RowBox[{"Map", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Plus", "[", 
              RowBox[{"#", ",", "position"}], "]"}], "&"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"-", "3.557`"}], ",", 
                RowBox[{"-", "18.64`"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"-", "0.3172`"}], ",", 
                RowBox[{"-", "18.71`"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"2.732`", ",", "18.07`"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"5.908`", ",", "18.14`"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"17.66`", ",", 
                RowBox[{"-", "1.935`"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{"17.66`", ",", "1.368`"}], "}"}]}], "}"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"{", "1", "}"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"pathPoints", "=", 
          RowBox[{"Map", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Plus", "[", 
              RowBox[{"#", ",", "position"}], "]"}], "&"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"{", "\[IndentingNewLine]", 
             RowBox[{"(*", 
              RowBox[{"1", "\[DirectedEdge]", "2"}], "*)"}], 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.75`"}], ",", 
                  RowBox[{"-", "65.9`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.738421963862632`"}], ",", 
                  RowBox[{"-", "62.89271640746338`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.7276250690769746`"}], ",", 
                  RowBox[{"-", "59.88543057550895`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.7176194436425702`"}], ",", 
                  RowBox[{"-", "56.87813985683813`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.7084155999417647`"}], ",", 
                  RowBox[{"-", "53.870848381582526`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.7000244132244178`"}], ",", 
                  RowBox[{"-", "50.86355548036668`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6924571544313336`"}], ",", 
                  RowBox[{"-", "47.85625878958942`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6857255240119104`"}], ",", 
                  RowBox[{"-", "44.84895996420478`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6798416560262104`"}], ",", 
                  RowBox[{"-", "41.84165921389387`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.674818145083948`"}], ",", 
                  RowBox[{"-", "38.834358926389`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6706680541591634`"}], ",", 
                  RowBox[{"-", "35.82705755780875`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.667404940528435`"}], ",", 
                  RowBox[{"-", "32.819753285001156`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6650428712561385`"}], ",", 
                  RowBox[{"-", "29.812446057182804`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.663596430319421`"}], ",", 
                  RowBox[{"-", "26.805140964894047`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.663080711199815`"}], ",", 
                  RowBox[{"-", "23.797837764138013`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.663511313251256`"}], ",", 
                  RowBox[{"-", "20.790532577680114`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6649043147650247`"}], ",", 
                  RowBox[{"-", "17.783222996021628`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6672762099594247`"}], ",", 
                  RowBox[{"-", "14.775911823786487`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.670643800440105`"}], ",", 
                  RowBox[{"-", "11.768607822928177`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6750240583224176`"}], ",", 
                  RowBox[{"-", "8.761303581196012`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.680433843714309`"}], ",", 
                  RowBox[{"-", "5.7540005895105395`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6868894914335284`"}], ",", 
                  RowBox[{"-", "2.7467026361758604`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.694406171338449`"}], ",", 
                  "0.26059227974154675`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.702996836773735`"}], ",", 
                  "3.267889807314638`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.712670451372887`"}], ",", 
                  "6.275183343130691`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.72342913109278`"}], ",", 
                  "9.282470802764728`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.73526309600383`"}], ",", 
                  "12.2897531682213`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.748141188586321`"}], ",", 
                  "15.297037337242323`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.7619010372462434`"}], ",", 
                  "18.304311646892412`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.7759822595340777`"}], ",", 
                  "21.311585846749082`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.7893173511933034`"}], ",", 
                  "24.318860322883715`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.799901657188503`"}], ",", 
                  "27.326148627626164`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.803768069291191`"}], ",", 
                  "30.333453743253`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.792425947904869`"}], ",", 
                  "33.340730914109315`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.7457478830712603`"}], ",", 
                  "36.34763534873461`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6123699116796937`"}], ",", 
                  "39.3517428181079`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.2863861716255496`"}], ",", 
                  "42.34038219233763`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "2.6894860239742946`"}], ",", 
                  "45.28700101893754`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.9370431771954641`"}], ",", 
                  "48.19855209943419`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.1439409506601188`"}], ",", 
                  "51.099389666240384`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "0.34999999999999787`"}], ",", "54.`"}], 
                 "}"}]}], "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"(*", 
               RowBox[{"1", "\[DirectedEdge]", "3"}], "*)"}], 
              "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.75`"}], ",", 
                  RowBox[{"-", "65.9`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.738027051446493`"}], ",", 
                  RowBox[{"-", "62.820692562755106`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.726585237724569`"}], ",", 
                  RowBox[{"-", "59.74138021116256`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.7156237021607477`"}], ",", 
                  RowBox[{"-", "56.66207082530124`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.705073549078966`"}], ",", 
                  RowBox[{"-", "53.58275741099473`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6948421074921813`"}], ",", 
                  RowBox[{"-", "50.50344248045305`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6848048450040496`"}], ",", 
                  RowBox[{"-", "47.42412632393325`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.674794117104507`"}], ",", 
                  RowBox[{"-", "44.344816114165795`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.664582991689875`"}], ",", 
                  RowBox[{"-", "41.2655034002851`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6538618744013958`"}], ",", 
                  RowBox[{"-", "38.18618679757118`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6422036079801394`"}], ",", 
                  RowBox[{"-", "35.10687506570019`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.6290100943038963`"}], ",", 
                  RowBox[{"-", "32.0275733373662`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.61342835812919`"}], ",", 
                  RowBox[{"-", "28.948276151924457`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.594214335509528`"}], ",", 
                  RowBox[{"-", "25.869009876596927`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.5695020992456654`"}], ",", 
                  RowBox[{"-", "22.789774573577628`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.5363980041458247`"}], ",", 
                  RowBox[{"-", "19.710622117478053`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.49022991901063`"}], ",", 
                  RowBox[{"-", "16.631639111587198`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.4230966461088093`"}], ",", 
                  RowBox[{"-", "13.553048645695066`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.320987259630672`"}], ",", 
                  RowBox[{"-", "10.475436834880536`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.1583844050464616`"}], ",", 
                  RowBox[{"-", "7.400488748256461`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "2.889665593886343`"}], ",", 
                  RowBox[{"-", "4.333163997159022`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "2.4154168588070664`"}], ",", 
                  RowBox[{"-", "1.2917877051114872`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.436603185624713`"}], ",", 
                  "1.6172605679681245`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.7526725037442537`", ",", "3.703595408342318`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"3.7082449209736774`", ",", "4.520747602712885`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"6.777878359294461`", ",", "4.746290478613854`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"9.856863212989717`", ",", "4.784826777424796`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"12.936178912511169`", ",", "4.777301513196006`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"16.015463230841593`", ",", "4.760617952100332`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"19.094752172955648`", ",", "4.744649857474688`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"22.17405275049579`", ",", "4.731319306935514`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"25.25336846413133`", ",", "4.720748148416548`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"28.332686891533676`", ",", "4.712684906121137`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"31.412014247660295`", ",", "4.706830210537279`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"34.49134249386348`", ",", "4.702912289755055`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"37.570671552508685`", ",", "4.700699985153581`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"40.64999999999998`", ",", "4.700000000000003`"}], 
                 "}"}]}], "}"}], ",", "\[IndentingNewLine]", 
              RowBox[{"(*", 
               RowBox[{"2", "\[DirectedEdge]", "1"}], "*)"}], 
              "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"2.75`", ",", "53.30000000000001`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.645294380319397`", ",", "50.28936224825816`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.5728521139478446`", ",", "47.277785316755384`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.5360724171409887`", ",", "44.26556600345843`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.5363674259835474`", ",", "41.253122365932654`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.5701963746515197`", ",", "38.24086314565842`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.625066487092473`", ",", "35.228894349089245`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.678115465323286`", ",", "32.21689280950262`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.7135687391212433`", ",", "29.204637326570804`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.732425254485842`", ",", "26.192236182289626`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.7376581941839433`", ",", "23.179776627945454`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.732590258710342`", ",", "20.167315033122513`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.7204073829941726`", ",", "17.154873545605273`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.7036884727362276`", ",", "14.142452220482602`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.6836721624104394`", ",", "11.130051125651937`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.6609889085405123`", ",", "8.117670747627386`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.6360698284084383`", ",", "5.105307095951159`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.6092202079698117`", ",", "2.092960750067738`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.580659380451296`", ",", 
                  RowBox[{"-", "0.9193714349239186`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.5505489048992502`", ",", 
                  RowBox[{"-", "3.9316836786592138`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.5194354664855663`", ",", 
                  RowBox[{"-", "6.943990277598104`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.488700488634239`", ",", 
                  RowBox[{"-", "9.95630257552431`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.460209812195483`", ",", 
                  RowBox[{"-", "12.968634385015992`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.4366875408438746`", ",", 
                  RowBox[{"-", "15.98101458914669`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.4227679850148482`", ",", 
                  RowBox[{"-", "18.99345238566685`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.4273238120165392`", ",", 
                  RowBox[{"-", "22.005908774674293`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.456937699776802`", ",", 
                  RowBox[{"-", "25.018215669551772`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.503872237931131`", ",", 
                  RowBox[{"-", "28.030319002261237`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.5416740246551566`", ",", 
                  RowBox[{"-", "31.04254348615488`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.5558515743925043`", ",", 
                  RowBox[{"-", "34.05496980787081`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.546204711462507`", ",", 
                  RowBox[{"-", "37.06741560524693`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.495459993609832`", ",", 
                  RowBox[{"-", "40.07938758224423`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.300488538177673`", ",", 
                  RowBox[{"-", "43.0847922897706`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1.9053096039836184`", ",", 
                  RowBox[{"-", "46.07096773591778`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1.4291307584705966`", ",", 
                  RowBox[{"-", "49.04553595389152`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.9295591308910707`", ",", 
                  RowBox[{"-", "52.0162901261636`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.45879639719948223`", ",", 
                  RowBox[{"-", "54.991683536352824`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.07335343858713766`", ",", 
                  RowBox[{"-", "57.979241470807935`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "0.19979380295575516`"}], ",", 
                  RowBox[{"-", "60.979091705446855`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "0.3446580415223723`"}], ",", 
                  RowBox[{"-", "63.98782066210805`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "0.34999999999999787`"}], ",", 
                  RowBox[{"-", "67.`"}]}], "}"}]}], "}"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"(*", 
               RowBox[{"2", "\[DirectedEdge]", "3"}], "*)"}], 
              "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"2.75`", ",", "53.5`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"3.7347542653529047`", ",", "50.594411064944005`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.614111159401735`", ",", "47.65530311107367`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"5.353653846811356`", ",", "44.67810413852997`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"5.90761105461805`", ",", "41.66111673042778`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"6.22682106242202`", ",", "38.61061017287184`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"6.294247355760066`", ",", "35.544052428916025`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"6.185183458616941`", ",", "32.47808750061541`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"6.043732654339421`", ",", "29.413298668605837`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"5.908608957444123`", ",", "26.348222643268723`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"5.77663708345726`", ",", "23.283008988417578`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"5.644709544882563`", ",", "20.21779141825878`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"5.508862822774146`", ",", "17.15274500409155`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"5.3690600373142425`", ",", "14.087884064501008`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"5.30415945295844`", ",", "11.020884741536253`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"5.618734744005778`", ",", "7.975907083672827`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"7.285964276536777`", ",", "5.490313186928282`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"10.17723889217224`", ",", "4.542448053628329`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"13.238032550563116`", ",", "4.365187885949101`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"16.306028974452452`", ",", "4.3775519622559`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"19.373935828594444`", ",", "4.407522660349744`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"22.441871906150354`", ",", "4.434647786657642`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"25.509846632045573`", ",", "4.456567989224656`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"28.577854646540853`", ",", "4.473398021312821`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"31.64588420637967`", ",", "4.48565709536223`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"34.71392950234465`", ",", "4.493877647276623`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"37.78197946951125`", ",", "4.498526995386464`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"40.85`", ",", "4.5`"}], "}"}]}], "}"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"(*", 
               RowBox[{"3", "\[DirectedEdge]", "1"}], "*)"}], 
              "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"40.300000000000004`", ",", "1.1000000000000085`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"37.38217389151371`", ",", "0.22969594194856574`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"34.40853759477412`", ",", 
                  RowBox[{"-", "0.4259055486063939`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"31.399568640801462`", ",", 
                  RowBox[{"-", "0.894289280773368`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"28.369778320043075`", ",", 
                  RowBox[{"-", "1.2014733617845712`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"25.329134503067824`", ",", 
                  RowBox[{"-", "1.371911297096177`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"22.28418053105143`", ",", 
                  RowBox[{"-", "1.4294763713298555`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"19.238762190446348`", ",", 
                  RowBox[{"-", "1.400015887388899`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"16.194242633773843`", ",", 
                  RowBox[{"-", "1.3180633806553694`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"13.149534112816646`", ",", 
                  RowBox[{"-", "1.245698598726326`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"10.104334912764322`", ",", 
                  RowBox[{"-", "1.2694427664117867`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"7.086210569060395`", ",", 
                  RowBox[{"-", "1.6328775526455328`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"4.512233914675431`", ",", 
                  RowBox[{"-", "3.17712824530032`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"3.0076587482227133`", ",", 
                  RowBox[{"-", "5.800204663490463`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.4590340146326124`", ",", 
                  RowBox[{"-", "8.78667100809566`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.4083740203129977`", ",", 
                  RowBox[{"-", "11.831205241518505`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.4430831258668415`", ",", 
                  RowBox[{"-", "14.876640101551034`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.4729489739594763`", ",", 
                  RowBox[{"-", "17.92211871635837`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.4829547657410935`", ",", 
                  RowBox[{"-", "20.967721141405775`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.4620785219711006`", ",", 
                  RowBox[{"-", "24.01326304689671`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.4133912403775066`", ",", 
                  RowBox[{"-", "27.05850309518134`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.3583704028305883`", ",", 
                  RowBox[{"-", "30.103641816988763`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.3237084552861664`", ",", 
                  RowBox[{"-", "33.149056350304974`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.3414248604494268`", ",", 
                  RowBox[{"-", "36.194582395451114`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.3866353908609588`", ",", 
                  RowBox[{"-", "39.23986919745541`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.357189170401071`", ",", 
                  RowBox[{"-", "42.285016722655925`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"2.1200345932115656`", ",", 
                  RowBox[{"-", "45.32069608253836`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1.6972941630200813`", ",", 
                  RowBox[{"-", "48.3365989847983`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1.1971844595394103`", ",", 
                  RowBox[{"-", "51.34086824603032`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.6870937967193573`", ",", 
                  RowBox[{"-", "54.34347672197058`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.1944272817918217`", ",", 
                  RowBox[{"-", "57.34899730496867`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "0.26399693728454865`"}], ",", 
                  RowBox[{"-", "60.35990439114225`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "0.6798811553295071`"}], ",", 
                  RowBox[{"-", "63.37697618776539`"}]}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.0499999999999987`"}], ",", 
                  RowBox[{"-", "66.39999999999998`"}]}], "}"}]}], "}"}], ",", 
              "\[IndentingNewLine]", 
              RowBox[{"(*", 
               RowBox[{"3", "\[DirectedEdge]", "2"}], "*)"}], 
              "\[IndentingNewLine]", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"40.300000000000004`", ",", "1.1000000000000085`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"37.269487570875924`", ",", "1.1547382242171809`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"34.238894343516655`", ",", "1.2048319802054646`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"31.208220853616158`", ",", "1.2497416342913081`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"28.177465502962082`", ",", "1.2887738624933496`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"25.146631536193187`", ",", "1.3210179053334337`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"22.115720949077424`", ",", "1.3452425185257706`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"19.08474548539419`", ",", "1.359718583785192`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"16.053743351905478`", ",", "1.3618899678296965`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"13.022768226266825`", ",", "1.3477008112703461`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"9.991889716797223`", ",", "1.3197876328010716`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"6.960945019107112`", ",", "1.320638233697009`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"3.9337786921114892`", ",", "1.4579150133417451`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"0.9624063759561774`", ",", "2.020281945862746`"}], 
                 "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.5418380397967435`"}], ",", 
                  "3.659741665592707`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "2.940949602922533`"}], ",", 
                  "6.324146094014749`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.498885302363951`"}], ",", 
                  "9.298160491072444`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.628518832206891`"}], ",", 
                  "12.32520218744575`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.548526683212537`"}], ",", 
                  "15.354909825413982`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.4038203060277565`"}], ",", 
                  "18.382459094047565`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.307290090269353`"}], ",", 
                  "21.411804072627397`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.306815745039273`"}], ",", 
                  "24.442719734888268`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.3671645281906732`"}], ",", 
                  "27.47310047687548`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.4522253629308146`"}], ",", 
                  "30.50291146041943`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.52812434984935`"}], ",", 
                  "33.53295391025943`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.549761004342662`"}], ",", 
                  "36.56378053253135`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.4454052796298424`"}], ",", 
                  "39.59258152238813`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "3.107130273832789`"}], ",", 
                  "42.603344074801484`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "2.4176641249347757`"}], ",", 
                  "45.55329100020794`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "1.5934014790650395`"}], ",", 
                  "48.470023889799066`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "0.8894031905035282`"}], ",", 
                  "51.41772394559161`"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "0.3499999999999999`"}], ",", 
                  "54.39999999999999`"}], "}"}]}], "}"}]}], 
             "\[IndentingNewLine]", "}"}], "\[IndentingNewLine]", ",", 
            RowBox[{"{", "2", "}"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"laneMarkings", "=", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", "pts", "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{"Thick", ",", "White", ",", 
              RowBox[{"Dashing", "[", "0.01", "]"}], ",", 
              RowBox[{"Line", "[", "pts", "]"}]}], "}"}]}], 
           "\[IndentingNewLine]", "]"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"stopLine", "=", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", "pts", "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{"Thick", ",", "White", ",", 
              RowBox[{"Line", "[", "pts", "]"}]}], "}"}]}], 
           "\[IndentingNewLine]", "]"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"walkwayMarkings", "=", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", "pts", "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Thickness", "[", "Large", "]"}], ",", " ", 
              RowBox[{"Dashing", "[", 
               RowBox[{"{", 
                RowBox[{"0", ",", " ", "Small"}], "}"}], "]"}], ",", " ", 
              RowBox[{"StrokeForm", "[", 
               RowBox[{"GrayLevel", "[", "1", "]"}], "]"}], ",", " ", 
              RowBox[{"EdgeForm", "[", 
               RowBox[{"GrayLevel", "[", "0", "]"}], "]"}], ",", " ", 
              RowBox[{"EdgeForm", "[", "None", "]"}], ",", 
              RowBox[{"Line", "[", "pts", "]"}]}], "}"}]}], 
           "\[IndentingNewLine]", "]"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"arrowMarkings", "=", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", "pts", "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{"Thick", ",", "White", ",", 
              RowBox[{"Arrowheads", "[", "0.008", "]"}], ",", 
              RowBox[{"Arrow", "[", "pts", "]"}]}], "}"}]}], 
           "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", "}"}], 
       ",", "\[IndentingNewLine]", 
       RowBox[{"Which", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"return", "\[Equal]", "\"\<graphics\>\""}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Rotate", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"EdgeForm", "[", "Thick", "]"}], ",", 
               RowBox[{"GrayLevel", "[", "0.65", "]"}], ",", 
               RowBox[{"Polygon", "[", 
                RowBox[{
                "mStreetPts", "\[LeftDoubleBracket]", "1", 
                 "\[RightDoubleBracket]"}], "]"}]}], "}"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"stopLine", "[", 
                RowBox[{
                "mStreetPts", "\[LeftDoubleBracket]", "i", 
                 "\[RightDoubleBracket]"}], "]"}], ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", 
                 RowBox[{"{", 
                  RowBox[{"5", ",", "10", ",", "16"}], "}"}]}], "}"}]}], 
              "]"}], ",", "\[IndentingNewLine]", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"laneMarkings", "[", 
                RowBox[{
                "mStreetPts", "\[LeftDoubleBracket]", "i", 
                 "\[RightDoubleBracket]"}], "]"}], ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", 
                 RowBox[{"{", 
                  RowBox[{
                  "2", ",", "3", ",", "4", ",", "9", ",", "11", ",", "17", 
                   ",", "18"}], "}"}]}], "}"}]}], "]"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"{", 
              RowBox[{"Thick", ",", "White", ",", "\[IndentingNewLine]", 
               RowBox[{"Table", "[", 
                RowBox[{
                 RowBox[{"Line", "[", 
                  RowBox[{"Map", "[", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"Plus", "[", 
                    RowBox[{"#", ",", 
                    RowBox[{"{", 
                    RowBox[{"0", ",", "i"}], "}"}]}], "]"}], "&"}], ",", 
                    RowBox[{
                    "mStreetPts", "\[LeftDoubleBracket]", "6", 
                    "\[RightDoubleBracket]"}]}], "]"}], "]"}], ",", 
                 RowBox[{"{", 
                  RowBox[{"i", ",", "0", ",", "21", ",", "3"}], "}"}]}], 
                "]"}]}], "\[IndentingNewLine]", "}"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"walkwayMarkings", "[", 
                RowBox[{
                "mStreetPts", "\[LeftDoubleBracket]", "i", 
                 "\[RightDoubleBracket]"}], "]"}], ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", 
                 RowBox[{"{", 
                  RowBox[{
                  "7", ",", "8", ",", "12", ",", "13", ",", "14", ",", "15"}],
                   "}"}]}], "}"}]}], "]"}], ",", "\[IndentingNewLine]", 
             RowBox[{"Table", "[", 
              RowBox[{
               RowBox[{"arrowMarkings", "[", 
                RowBox[{
                "mStreetPts", "\[LeftDoubleBracket]", "i", 
                 "\[RightDoubleBracket]"}], "]"}], ",", 
               RowBox[{"{", 
                RowBox[{"i", ",", 
                 RowBox[{"{", 
                  RowBox[{
                  "19", ",", "20", ",", "21", ",", "22", ",", "23", ",", 
                   "24"}], "}"}]}], "}"}]}], "]"}]}], 
            RowBox[{"(*", 
             RowBox[{",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{
                RowBox[{"laneControlIndicator", "[", 
                 RowBox[{
                 "#", ",", "0", ",", "\"\<GO\>\"", ",", "\"\<graphics\>\""}], 
                 "]"}], "&"}], "/@", "controlPoints"}]}], "*)"}], 
            "\[IndentingNewLine]", "\[IndentingNewLine]", "}"}], ",", 
           "rotation", ",", "position"}], "\[IndentingNewLine]", "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"return", "\[Equal]", "\"\<nodes\>\""}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"{", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{
               RowBox[{"RotationTransform", "[", 
                RowBox[{"rotation", ",", "position"}], "]"}], "[", 
               RowBox[{
               "nodes", "\[LeftDoubleBracket]", "1", 
                "\[RightDoubleBracket]"}], "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"ArcTan", "@@", 
               RowBox[{
               "nodes", "\[LeftDoubleBracket]", "1", 
                "\[RightDoubleBracket]"}]}]}], "\[IndentingNewLine]", "}"}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"{", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{
               RowBox[{"RotationTransform", "[", 
                RowBox[{"rotation", ",", "position"}], "]"}], "[", 
               RowBox[{
               "nodes", "\[LeftDoubleBracket]", "2", 
                "\[RightDoubleBracket]"}], "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"ArcTan", "@@", 
               RowBox[{
               "nodes", "\[LeftDoubleBracket]", "2", 
                "\[RightDoubleBracket]"}]}]}], "\[IndentingNewLine]", "}"}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"{", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{
               RowBox[{"RotationTransform", "[", 
                RowBox[{"rotation", ",", "position"}], "]"}], "[", 
               RowBox[{
               "nodes", "\[LeftDoubleBracket]", "3", 
                "\[RightDoubleBracket]"}], "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"ArcTan", "@@", 
               RowBox[{
               "nodes", "\[LeftDoubleBracket]", "3", 
                "\[RightDoubleBracket]"}]}]}], "\[IndentingNewLine]", "}"}]}],
            "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"RotationTransform", "[", 
             RowBox[{"rotation", ",", "position"}], "]"}], "[", 
            RowBox[{
            "nodes", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
            "]"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"RotationTransform", "[", 
             RowBox[{"rotation", ",", "position"}], "]"}], "[", 
            RowBox[{
            "nodes", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
            "]"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"RotationTransform", "[", 
             RowBox[{"rotation", ",", "position"}], "]"}], "[", 
            RowBox[{
            "nodes", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], 
            "]"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", "}"}], ",",
          "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"return", "\[Equal]", "\"\<controlPoints\>\""}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"RotationTransform", "[", 
           RowBox[{"rotation", ",", "position"}], "]"}], "/@", 
          "controlPoints"}], ",", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"return", "\[Equal]", "\"\<edgeRules\>\""}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{
             "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
             "\[DirectedEdge]", 
             RowBox[{
             "#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}]}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
             "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
             "\[DirectedEdge]", 
             RowBox[{
             "#", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}]}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
             "#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
             "\[DirectedEdge]", 
             RowBox[{
             "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
             "#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
             "\[DirectedEdge]", 
             RowBox[{
             "#", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}]}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
             "#", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], 
             "\[DirectedEdge]", 
             RowBox[{
             "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
             "#", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], 
             "\[DirectedEdge]", 
             RowBox[{
             "#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}]}]}], 
           "\[IndentingNewLine]", "}"}], "&"}], ",", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"return", "\[Equal]", "\"\<pathPoints\>\""}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"RotationTransform", "[", 
           RowBox[{"rotation", ",", "position"}], "]"}], "/@", "pathPoints"}],
          ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"return", "\[Equal]", "\"\<controlFunction\>\""}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"a", "&&", 
            RowBox[{"!", "f"}]}], ",", "\[IndentingNewLine]", 
           RowBox[{"b", "&&", 
            RowBox[{"!", "c"}], "&&", 
            RowBox[{"!", "d"}], "&&", 
            RowBox[{"!", "f"}]}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"!", "b"}], "&&", "c", "&&", 
            RowBox[{"!", "e"}], "&&", 
            RowBox[{"!", "f"}]}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"!", "b"}], "&&", "d"}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"!", "c"}], "&&", "e"}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"!", "a"}], "&&", 
            RowBox[{"!", "b"}], "&&", 
            RowBox[{"!", "c"}], "&&", "f"}]}], "\[IndentingNewLine]", "}"}], 
         ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"return", "\[Equal]", "\"\<clickBoxPts\>\""}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"RotationTransform", "[", 
           RowBox[{"rotation", ",", "position"}], "]"}], "[", 
          RowBox[{
          "mStreetPts", "\[LeftDoubleBracket]", "1", 
           "\[RightDoubleBracket]"}], "]"}]}], "\[IndentingNewLine]", "]"}]}],
       "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"laneControlIndicator", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"position", ",", "rotation", ",", "state", ",", "return"}], 
       "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"Which", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"return", "\[Equal]", "\"\<graphics\>\""}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"EdgeForm", "[", "Thick", "]"}], ",", "\[IndentingNewLine]", 
          RowBox[{"Which", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"state", "\[Equal]", "\"\<GO\>\""}], ",", "Green", ",", 
            "\[IndentingNewLine]", 
            RowBox[{"state", "\[Equal]", "\"\<STOP\>\""}], ",", "Red"}], 
           "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
          RowBox[{"Disk", "[", 
           RowBox[{"position", ",", "1"}], "]"}]}], "\[IndentingNewLine]", 
         "}"}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
     "]"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"--", 
    RowBox[{"--", 
     RowBox[{"--", 
      RowBox[{"--", 
       RowBox[{"--", 
        RowBox[{"--", 
         RowBox[{"--", 
          RowBox[{"--", "--"}]}]}]}]}]}]}]}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"General", " ", "Spline", " ", "Functions"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"--", 
    RowBox[{"--", 
     RowBox[{"--", 
      RowBox[{"--", 
       RowBox[{"--", 
        RowBox[{"--", 
         RowBox[{"--", 
          RowBox[{"--", "--"}]}]}]}]}]}]}]}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"samples", " ", "points", " ", "from", " ", "BSpline"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"pathPoints", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", "splineControls", "}"}], ",", 
      RowBox[{"MeshCoordinates", "[", 
       RowBox[{"DiscretizeGraphics", "[", 
        RowBox[{"Graphics", "[", 
         RowBox[{"BSplineCurve", "[", "splineControls", "]"}], "]"}], "]"}], 
       "]"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{
    "generates", " ", "points", " ", "of", " ", "outline", " ", "around", " ",
      "line"}], "-", 
    RowBox[{"forming", " ", "set", " ", "of", " ", "points"}]}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"lineOutset", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{"(*", "{", "*)"}], 
       RowBox[{"linePoints", ",", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{
           RowBox[{"_Real", ",", "2"}], "}"}], ","}], "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"(*", "{", "*)"}], "offsetDistance"}], 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{",", "_Real", ",", "0"}], "}"}], "*)"}], 
       "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"Block", "[", 
       RowBox[{
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"splineSample", "=", 
           RowBox[{"pathPoints", "[", "linePoints", "]"}]}], ",", 
          "\[IndentingNewLine]", "innerSplinePoints", ",", 
          "\[IndentingNewLine]", "outerSplinePoints"}], "\[IndentingNewLine]",
          "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{"splineTangentAngles", "=", 
             RowBox[{"Flatten", "[", "\[IndentingNewLine]", 
              RowBox[{"Table", "[", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"ArcTan", "@@", 
                 RowBox[{"Differences", "/@", 
                  RowBox[{"Transpose", "[", 
                   RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"splineSample", "\[LeftDoubleBracket]", 
                    RowBox[{"i", "+", "1"}], "\[RightDoubleBracket]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    "splineSample", "\[LeftDoubleBracket]", "i", 
                    "\[RightDoubleBracket]"}]}], "\[IndentingNewLine]", "}"}],
                    "]"}]}]}], ",", "\[IndentingNewLine]", 
                RowBox[{"{", 
                 RowBox[{"i", ",", "1", ",", 
                  RowBox[{
                   RowBox[{"Length", "[", "splineSample", "]"}], "-", "1"}]}],
                  "}"}]}], "\[IndentingNewLine]", "]"}], 
              "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "}"}], 
           ",", "\n", 
           RowBox[{
            RowBox[{"outerSplinePoints", "=", "\[IndentingNewLine]", 
             RowBox[{"Table", "[", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"AngleVector", "[", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{
                 "splineSample", "\[LeftDoubleBracket]", "i", 
                  "\[RightDoubleBracket]"}], ",", "\[IndentingNewLine]", 
                 RowBox[{"{", 
                  RowBox[{"offsetDistance", ",", 
                   RowBox[{
                    RowBox[{
                    "splineTangentAngles", "\[LeftDoubleBracket]", "i", 
                    "\[RightDoubleBracket]"}], "+", 
                    RowBox[{"\[Pi]", "/", "2"}]}]}], "}"}]}], 
                "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
               RowBox[{"{", 
                RowBox[{"i", ",", "1", ",", 
                 RowBox[{"Length", "[", "splineTangentAngles", "]"}]}], 
                "}"}]}], "\[IndentingNewLine]", "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"innerSplinePoints", "=", 
             RowBox[{"Reverse", "[", "\[IndentingNewLine]", 
              RowBox[{"Table", "[", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"AngleVector", "[", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{
                  "splineSample", "\[LeftDoubleBracket]", "i", 
                   "\[RightDoubleBracket]"}], ",", "\[IndentingNewLine]", 
                  RowBox[{"{", 
                   RowBox[{"offsetDistance", ",", 
                    RowBox[{
                    RowBox[{
                    "splineTangentAngles", "\[LeftDoubleBracket]", "i", 
                    "\[RightDoubleBracket]"}], "-", 
                    RowBox[{"\[Pi]", "/", "2"}]}]}], "}"}]}], 
                 "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
                RowBox[{"{", 
                 RowBox[{"i", ",", "1", ",", 
                  RowBox[{"Length", "[", "splineTangentAngles", "]"}]}], 
                 "}"}]}], "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]",
               "]"}]}], ";"}]}], "\[IndentingNewLine]", "]"}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"innerSplinePoints", ",", "outerSplinePoints"}], "}"}]}]}], 
       "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{
    "draws", " ", "polygon", " ", "around", " ", "set", " ", "of", " ", 
     "line"}], "-", 
    RowBox[{"forming", " ", "points"}]}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"highlightPath", "[", 
     RowBox[{"pathPoints_", ",", 
      RowBox[{"color_:", 
       RowBox[{"Hue", "[", 
        RowBox[{"0.2", ",", "1", ",", "1", ",", "0.2"}], "]"}]}]}], "]"}], ":=", 
    RowBox[{"{", 
     RowBox[{"color", ",", 
      RowBox[{"Polygon", "[", 
       RowBox[{"Flatten", "[", 
        RowBox[{
         RowBox[{"Join", "[", 
          RowBox[{"lineOutset", "[", 
           RowBox[{"pathPoints", ",", "1.3"}], "]"}], "]"}], ",", "1"}], 
        "]"}], "]"}]}], "}"}]}], ";"}], " ", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"--", 
    RowBox[{"--", 
     RowBox[{"--", 
      RowBox[{"--", 
       RowBox[{"--", 
        RowBox[{"--", 
         RowBox[{"--", 
          RowBox[{"--", 
           RowBox[{"--", 
            RowBox[{"--", 
             RowBox[{"--", 
              RowBox[{"--", "--"}]}]}]}]}]}]}]}]}]}]}]}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"General", " ", "Spline", " ", "Functions"}], " ", "-", " ", 
    "END"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"--", 
    RowBox[{"--", 
     RowBox[{"--", 
      RowBox[{"--", 
       RowBox[{"--", 
        RowBox[{"--", 
         RowBox[{"--", 
          RowBox[{"--", 
           RowBox[{"--", 
            RowBox[{"--", 
             RowBox[{"--", 
              RowBox[{"--", "--"}]}]}]}]}]}]}]}]}]}]}]}], " ", "*)"}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"--", 
    RowBox[{"--", 
     RowBox[{"--", 
      RowBox[{"--", 
       RowBox[{"--", 
        RowBox[{"--", "--"}]}]}]}]}]}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", "    ", 
   RowBox[{"Draw", " ", "Roads"}], "   ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"--", 
    RowBox[{"--", 
     RowBox[{"--", 
      RowBox[{"--", 
       RowBox[{"--", 
        RowBox[{"--", "-"}]}]}]}]}]}], "  ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"--", 
    RowBox[{"--", 
     RowBox[{"-", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"Graphics", " ", "--"}], "--"}], "--"}]}]}]}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"preview", " ", "road", " ", "draw"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"previewRoadDraw", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", "splineControls", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "[", "splineControls", "]"}], ">", "3"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{"(*", " ", "edges", " ", "*)"}], "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Line", "/@", 
           RowBox[{"lineOutset", "[", 
            RowBox[{"splineControls", ",", "3"}], "]"}]}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"(*", " ", "center", " ", "*)"}], "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{"Blue", ",", 
            RowBox[{"Line", "[", 
             RowBox[{"pathPoints", "[", "splineControls", "]"}], "]"}]}], 
           "}"}], ",", "\[IndentingNewLine]", 
          RowBox[{"(*", " ", "terminal", " ", "*)"}], "\[IndentingNewLine]", 
          RowBox[{"{", 
           RowBox[{"White", ",", 
            RowBox[{"EdgeForm", "[", "Black", "]"}], ",", 
            RowBox[{"Disk", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Most", "[", 
                RowBox[{"pathPoints", "[", "splineControls", "]"}], "]"}], 
               "\[LeftDoubleBracket]", 
               RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], ",", "1"}], 
             "]"}]}], "}"}]}], "\[IndentingNewLine]", "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", "}"}]}], "\[IndentingNewLine]", "]"}]}], 
     "\[IndentingNewLine]", "]"}]}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"draws", " ", "road", " ", "graphic", " ", "from", " ", "basis"}], 
   " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"roadDraw", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", "splineControls", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "[", "splineControls", "]"}], ">", "3"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"EdgeForm", "[", 
             RowBox[{"{", 
              RowBox[{"Thick", ",", "Black"}], "}"}], "]"}], ",", 
            RowBox[{"GrayLevel", "[", "0.65", "]"}], ",", 
            RowBox[{"Polygon", "[", 
             RowBox[{"Flatten", "[", 
              RowBox[{
               RowBox[{"Join", "[", 
                RowBox[{"lineOutset", "[", 
                 RowBox[{"splineControls", ",", "3"}], "]"}], "]"}], ",", 
               "1"}], "]"}], "]"}]}], "\[IndentingNewLine]", "}"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{"{", "\[IndentingNewLine]", 
           RowBox[{"Thick", ",", "White", ",", 
            RowBox[{"Dashing", "[", "0.01", "]"}], ",", 
            RowBox[{"Line", "[", 
             RowBox[{"pathPoints", "[", "splineControls", "]"}], "]"}]}], 
           "\[IndentingNewLine]", "}"}]}], "\[IndentingNewLine]", "}"}]}], 
       "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"--", 
    RowBox[{"--", 
     RowBox[{"--", 
      RowBox[{"--", 
       RowBox[{"--", 
        RowBox[{"--", "--"}]}]}]}]}]}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"Draw", " ", "Roads"}], " ", "-", " ", "End"}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"--", 
    RowBox[{"--", 
     RowBox[{"--", 
      RowBox[{"--", 
       RowBox[{"--", 
        RowBox[{"--", "-"}]}]}]}]}]}], "  ", "*)"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"inPolyQ", "=", 
    RowBox[{"Compile", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"poly", ",", "_Real", ",", "2"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"pos", ",", "_Real", ",", "1"}], "}"}]}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"x", "=", 
           RowBox[{
           "pos", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
          ",", "\[IndentingNewLine]", 
          RowBox[{"y", "=", 
           RowBox[{
           "pos", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}]}]}], 
         "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Block", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
           "Xi", ",", "Yi", ",", "Xip1", ",", "Yip1", ",", "u", ",", "v", ",",
             "w"}], "}"}], ",", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"Xi", ",", "Yi"}], "}"}], "=", 
            RowBox[{"Transpose", "[", "poly", "]"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"Xip1", "=", 
            RowBox[{"RotateLeft", "[", "Xi", "]"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"Yip1", "=", 
            RowBox[{"RotateLeft", "[", "Yi", "]"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"u", "=", 
            RowBox[{"UnitStep", "[", 
             RowBox[{"y", "-", "Yi"}], "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"v", "=", 
            RowBox[{"RotateLeft", "[", "u", "]"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{"w", "=", 
            RowBox[{"UnitStep", "[", 
             RowBox[{"-", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"Xip1", "-", "Xi"}], ")"}], " ", 
                 RowBox[{"(", 
                  RowBox[{"y", "-", "Yi"}], ")"}]}], "-", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"x", "-", "Xi"}], ")"}], " ", 
                 RowBox[{"(", 
                  RowBox[{"Yip1", "-", "Yi"}], ")"}]}]}], ")"}]}], "]"}]}], 
           ";", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"Total", "[", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"u", " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", "v"}], ")"}], " ", 
                RowBox[{"(", 
                 RowBox[{"1", "-", "w"}], ")"}]}], "-", 
               RowBox[{
                RowBox[{"(", 
                 RowBox[{"1", "-", "u"}], ")"}], " ", "v", " ", "w"}]}], 
              ")"}], "]"}], "\[NotEqual]", "0"}]}]}], "]"}]}], "]"}]}], 
     "]"}]}], ";"}], "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"newJunctionMarketStreet", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"objName", ",", "pos", ",", "rot"}], "}"}], ",", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"nodeCount", "=", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"enviromentNodeIndices", "===", 
             RowBox[{"{", "}"}]}], ",", "0", ",", 
            RowBox[{"Last", "[", 
             RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], "]"}]}], 
           "]"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", "}"}], ",", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"objName", "=", "\[IndentingNewLine]", 
          RowBox[{"<|", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"\"\<object\>\"", "\[Rule]", "junctionMarketStreet"}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<name\>\"", "\[Rule]", 
             RowBox[{"ToString", "[", "objName", "]"}]}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"\"\<symbol\>\"", "\[Rule]", 
             RowBox[{"HoldForm", "[", "objName", "]"}]}], ",", 
            "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{"\"\<position\>\"", "\[Rule]", "pos"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"\"\<rotation\>\"", "\[Rule]", "rot"}], ",", 
            "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{"\"\<nodePositions\>\"", "\[Rule]", 
             RowBox[{
              RowBox[{"objName", "[", "\"\<object\>\"", "]"}], "@@", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"objName", "[", "\"\<position\>\"", "]"}], ",", 
                RowBox[{"objName", "[", "\"\<rotation\>\"", "]"}], ",", 
                "\"\<nodes\>\""}], "}"}]}]}], ",", "\[IndentingNewLine]", 
            "\[IndentingNewLine]", 
            RowBox[{"\"\<nodeIndex\>\"", "\[RuleDelayed]", 
             RowBox[{"associationThreadIndex", "[", 
              RowBox[{
               RowBox[{"objName", "[", "\"\<nodePositions\>\"", "]"}], ",", 
               "nodeCount"}], "]"}]}], ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<internalNodeConnections\>\"", "\[RuleDelayed]", 
             RowBox[{
              RowBox[{"junctionMarketStreet", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", "0"}], "}"}], ",", "0", ",", 
                "\"\<edgeRules\>\""}], "]"}], "[", 
              RowBox[{"Keys", "[", 
               RowBox[{"objName", "[", "\"\<nodeIndex\>\"", "]"}], "]"}], 
              "]"}]}], ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<pathSections\>\"", "\[RuleDelayed]", 
             RowBox[{"AssociationThread", "[", 
              RowBox[{
               RowBox[{"Partition", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Delete", "[", "0", "]"}], "/@", 
                  RowBox[{
                  "objName", "[", "\"\<internalNodeConnections\>\"", "]"}]}], 
                 ",", "2"}], "]"}], "\[Rule]", 
               RowBox[{"objName", "[", "\"\<pathPoints\>\"", "]"}]}], "]"}]}],
             ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{"\"\<pathPoints\>\"", "\[Rule]", 
             RowBox[{
              RowBox[{"objName", "[", "\"\<object\>\"", "]"}], "@@", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"objName", "[", "\"\<position\>\"", "]"}], ",", 
                RowBox[{"objName", "[", "\"\<rotation\>\"", "]"}], ",", 
                "\"\<pathPoints\>\""}], "}"}]}]}], ",", "\[IndentingNewLine]",
             "\[IndentingNewLine]", 
            RowBox[{"\"\<controlPoints\>\"", "\[Rule]", 
             RowBox[{
              RowBox[{"objName", "[", "\"\<object\>\"", "]"}], "@@", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"objName", "[", "\"\<position\>\"", "]"}], ",", 
                RowBox[{"objName", "[", "\"\<rotation\>\"", "]"}], ",", 
                "\"\<controlPoints\>\""}], "}"}]}]}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
              RowBox[{"\"\<signalState\>\"", "\[RuleDelayed]", 
               RowBox[{"AssociationThread", "[", 
                RowBox[{
                 RowBox[{"Range", "[", 
                  RowBox[{"Length", "[", "#", "]"}], "]"}], "\[Rule]", "#"}], 
                "]"}]}], "&"}], "[", 
             RowBox[{"Table", "[", 
              RowBox[{"\"\<GO\>\"", ",", 
               RowBox[{"Length", "[", 
                RowBox[{"junctionMarketStreet", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"0", ",", "0"}], "}"}], ",", "0", ",", 
                  "\"\<controlPoints\>\""}], "]"}], "]"}]}], "]"}], "]"}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<toggleSignalState\>\"", "\[Rule]", " ", 
             RowBox[{"Function", "[", 
              RowBox[{
               RowBox[{"{", "ID", "}"}], ",", 
               RowBox[{
                RowBox[{
                 RowBox[{"objName", "[", "\"\<signalState\>\"", "]"}], "[", 
                 "ID", "]"}], "=", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                    RowBox[{"objName", "[", "\"\<signalState\>\"", "]"}], "[",
                     "ID", "]"}], "\[Equal]", "\"\<GO\>\""}], ",", 
                  "\"\<STOP\>\"", ",", "\"\<GO\>\""}], "]"}]}]}], "]"}]}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<resetSignalState\>\"", "\[RuleDelayed]", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"objName", "[", "\"\<signalState\>\"", "]"}], "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"AssociationThread", "[", 
                  RowBox[{
                   RowBox[{"Range", "[", 
                    RowBox[{"Length", "[", "#", "]"}], "]"}], "\[Rule]", 
                   "#"}], "]"}], "&"}], "[", 
                RowBox[{"Table", "[", 
                 RowBox[{"\"\<GO\>\"", ",", 
                  RowBox[{"Length", "[", 
                   RowBox[{"junctionMarketStreet", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "0"}], "}"}], ",", "0", ",", 
                    "\"\<controlPoints\>\""}], "]"}], "]"}]}], "]"}], "]"}]}],
               ")"}]}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
              RowBox[{"\"\<pathHighlightPick\>\"", "\[RuleDelayed]", 
               RowBox[{"AssociationThread", "[", 
                RowBox[{
                 RowBox[{"Range", "[", 
                  RowBox[{"Length", "[", "#", "]"}], "]"}], "\[Rule]", "#"}], 
                "]"}]}], "&"}], "[", 
             RowBox[{"Table", "[", 
              RowBox[{"0", ",", 
               RowBox[{"Length", "[", 
                RowBox[{"junctionMarketStreet", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"0", ",", "0"}], "}"}], ",", "0", ",", 
                  "\"\<pathPoints\>\""}], "]"}], "]"}]}], "]"}], "]"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"\"\<togglePathSelect\>\"", "\[Rule]", 
             RowBox[{"Function", "[", 
              RowBox[{
               RowBox[{"{", "ID", "}"}], ",", 
               RowBox[{
                RowBox[{
                 RowBox[{"objName", "[", "\"\<pathHighlightPick\>\"", "]"}], 
                 "[", "ID", "]"}], "=", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                    RowBox[{
                    "objName", "[", "\"\<pathHighlightPick\>\"", "]"}], "[", 
                    "ID", "]"}], "\[Equal]", "1"}], ",", "0", ",", "1"}], 
                 "]"}]}]}], "]"}]}], ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<resetPathSelect\>\"", "\[RuleDelayed]", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{"objName", "[", "\"\<pathHighlightPick\>\"", "]"}], 
               "=", 
               RowBox[{
                RowBox[{
                 RowBox[{"AssociationThread", "[", 
                  RowBox[{
                   RowBox[{"Range", "[", 
                    RowBox[{"Length", "[", "#", "]"}], "]"}], "\[Rule]", 
                   "#"}], "]"}], "&"}], "[", 
                RowBox[{"Table", "[", 
                 RowBox[{"0", ",", 
                  RowBox[{"Length", "[", 
                   RowBox[{"junctionMarketStreet", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "0"}], "}"}], ",", "0", ",", 
                    "\"\<pathPoints\>\""}], "]"}], "]"}]}], "]"}], "]"}]}], 
              ")"}]}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{"\"\<graphics\>\"", "\[RuleDelayed]", 
             RowBox[{"Deploy", "@", 
              RowBox[{"{", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{
                 RowBox[{"objName", "[", "\"\<object\>\"", "]"}], "@@", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"objName", "[", "\"\<position\>\"", "]"}], ",", 
                   RowBox[{"objName", "[", "\"\<rotation\>\"", "]"}], ",", 
                   "\"\<graphics\>\""}], "}"}]}], ",", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"EdgeForm", "[", "Thick", "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"Which", "[", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "\[Equal]", "\"\<GO\>\""}], 
                    ",", "Green", ",", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "\[Equal]", "\"\<STOP\>\""}], 
                    ",", "Red"}], "\[IndentingNewLine]", "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"Disk", "[", 
                    RowBox[{
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], ",", "1"}], "]"}]}], 
                   "\[IndentingNewLine]", "}"}], "&"}], "/@", 
                 RowBox[{"Transpose", "[", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"Values", "[", 
                    RowBox[{"objName", "[", "\"\<signalState\>\"", "]"}], 
                    "]"}], ",", 
                    RowBox[{"objName", "[", "\"\<controlPoints\>\"", "]"}]}], 
                   "}"}], "]"}]}], ",", "\[IndentingNewLine]", 
                "\[IndentingNewLine]", 
                RowBox[{"{", 
                 RowBox[{"Red", ",", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"Disk", "[", 
                    RowBox[{"#", ",", "1"}], "]"}], "&"}], "/@", 
                   RowBox[{"objName", "[", "\"\<nodePositions\>\"", "]"}]}]}],
                  "}"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
                RowBox[{"highlightPath", "/@", 
                 RowBox[{"Pick", "[", 
                  RowBox[{
                   RowBox[{"objName", "[", "\"\<pathPoints\>\"", "]"}], ",", 
                   RowBox[{"Values", "[", 
                    RowBox[{
                    "objName", "[", "\"\<pathHighlightPick\>\"", "]"}], "]"}],
                    ",", "1"}], "]"}]}]}], "\[IndentingNewLine]", "}"}]}]}], 
            ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{"\"\<clickBox\>\"", "\[Rule]", 
             RowBox[{
              RowBox[{"objName", "[", "\"\<object\>\"", "]"}], "@@", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"objName", "[", "\"\<position\>\"", "]"}], ",", 
                RowBox[{"objName", "[", "\"\<rotation\>\"", "]"}], ",", 
                "\"\<clickBoxPts\>\""}], "}"}]}]}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"\"\<mouseover\>\"", "\[RuleDelayed]", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"MousePosition", "[", "\"\<Graphics\>\"", "]"}], "=!=",
                 "None"}], ",", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"inPolyQ", "[", 
                  RowBox[{
                   RowBox[{"objName", "[", "\"\<clickBox\>\"", "]"}], ",", 
                   RowBox[{"MousePosition", "[", "\"\<Graphics\>\"", "]"}]}], 
                  "]"}], ",", 
                 RowBox[{"HoldForm", "@", "objName"}]}], "]"}]}], "]"}]}], 
            ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<mouseActionOpenInspector\>\"", "\[RuleDelayed]", 
             RowBox[{"(", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"objName", "[", "\"\<mouseover\>\"", "]"}], "===", 
                   RowBox[{"HoldForm", "[", "objName", "]"}]}], "&&", 
                  "allPalettesClosedQ"}], ",", "\[IndentingNewLine]", 
                 RowBox[{
                 "objName", "[", "\"\<openObjectInspectorPalette\>\"", 
                  "]"}]}], "\[IndentingNewLine]", "]"}], ";"}], 
              "\[IndentingNewLine]", ")"}]}], ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<mouseActionMoveObject\>\"", "\[RuleDelayed]", " ", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                "objName", "[", "\"\<objectInspectorPaletteOpen\>\"", "]"}], 
                "\[Equal]", "True"}], ",", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"objName", "[", "\"\<position\>\"", "]"}], "=", 
                RowBox[{"MousePosition", "[", "\"\<Graphics\>\"", "]"}]}]}], 
              "\[IndentingNewLine]", "]"}]}], ",", "\[IndentingNewLine]", 
            "\[IndentingNewLine]", 
            RowBox[{"\"\<objNodeSnapTo\>\"", "\[RuleDelayed]", 
             RowBox[{"With", "[", 
              RowBox[{
               RowBox[{"{", "\[IndentingNewLine]", 
                RowBox[{"junctionExcludedNodes", "=", 
                 RowBox[{"Catenate", "[", 
                  RowBox[{
                   RowBox[{"Lookup", "[", 
                    RowBox[{"enviroment", ",", 
                    RowBox[{"Cases", "[", 
                    RowBox[{
                    RowBox[{"Keys", "[", "enviroment", "]"}], ",", 
                    RowBox[{"Except", "[", 
                    RowBox[{"objName", "[", "\"\<name\>\"", "]"}], "]"}]}], 
                    "]"}]}], "]"}], "\[LeftDoubleBracket]", 
                   RowBox[{"All", ",", "\"\<nodePositions\>\""}], 
                   "\[RightDoubleBracket]"}], "]"}]}], "\[IndentingNewLine]", 
                "}"}], ",", "\[IndentingNewLine]", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Length", "[", "junctionExcludedNodes", "]"}], ">", 
                  "0"}], ",", "\[IndentingNewLine]", 
                 RowBox[{"With", "[", 
                  RowBox[{
                   RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    "nearestActiveJunctionNode", "=", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"MinimalBy", "[", 
                    RowBox[{
                    RowBox[{"objName", "[", "\"\<nodePositions\>\"", "]"}], 
                    ",", 
                    RowBox[{"Function", "[", 
                    RowBox[{
                    RowBox[{"{", "junctionNode", "}"}], ",", 
                    RowBox[{"Min", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"EuclideanDistance", "[", 
                    RowBox[{"junctionNode", ",", "#"}], "]"}], "&"}], "/@", 
                    "junctionExcludedNodes"}], "]"}]}], "]"}]}], "]"}], 
                    "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
                    "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Length", "[", "#", "]"}], ">", "0"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"objName", "[", "\"\<position\>\"", "]"}], "+=", 
                    RowBox[{"#", "-", "nearestActiveJunctionNode"}]}]}], 
                    "\[IndentingNewLine]", "]"}], "&"}], "@", 
                    RowBox[{"Flatten", "[", 
                    RowBox[{"Nearest", "[", 
                    RowBox[{
                    "junctionExcludedNodes", ",", "nearestActiveJunctionNode",
                     ",", 
                    RowBox[{"{", 
                    RowBox[{"1", ",", "5"}], "}"}]}], "]"}], "]"}]}]}], 
                  "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
                "]"}]}], "\[IndentingNewLine]", "]"}]}], ",", 
            "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{
            "\"\<objectInspectorPaletteOpen\>\"", "\[RuleDelayed]", "False"}],
             ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<openObjectInspectorPalette\>\"", "\[RuleDelayed]", 
             RowBox[{"(", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{
                RowBox[{
                "objName", "[", "\"\<objectInspectorPaletteOpen\>\"", "]"}], 
                "=", "True"}], ";", "\[IndentingNewLine]", 
               RowBox[{"CreatePalette", "[", 
                RowBox[{
                 RowBox[{"{", "\[IndentingNewLine]", 
                  RowBox[{"objName", "[", "\"\<objectInspector\>\"", "]"}], 
                  "\[IndentingNewLine]", "}"}], ",", 
                 RowBox[{"Saveable", "\[Rule]", "False"}], ",", 
                 "\[IndentingNewLine]", 
                 RowBox[{"WindowTitle", "\[Rule]", 
                  RowBox[{"objName", "[", "\"\<name\>\"", "]"}]}], ",", 
                 "\[IndentingNewLine]", 
                 RowBox[{"NotebookEventActions", "\[Rule]", 
                  RowBox[{"{", 
                   RowBox[{"\"\<WindowClose\>\"", "\[RuleDelayed]", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    "objName", "[", "\"\<objectInspectorPaletteOpen\>\"", 
                    "]"}], "=", "False"}], ";"}], ")"}]}], "}"}]}]}], 
                "\[IndentingNewLine]", "]"}], ";"}], "\[IndentingNewLine]", 
              ")"}]}], ",", "\[IndentingNewLine]", 
            RowBox[{"\"\<objectInspector\>\"", "\[RuleDelayed]", 
             RowBox[{"(", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"rotation", "=", 
                RowBox[{"objName", "[", "\"\<rotation\>\"", "]"}]}], ";", 
               "\[IndentingNewLine]", 
               RowBox[{"Column", "[", 
                RowBox[{
                 RowBox[{"{", "\[IndentingNewLine]", 
                  RowBox[{
                   RowBox[{"Row", "[", 
                    RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"TextCell", "[", "\"\<Rotate: \>\"", "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"Button", "[", 
                    RowBox[{"rLeftGraphic", ",", 
                    RowBox[{
                    RowBox[{"objName", "[", "\"\<rotation\>\"", "]"}], "+=", 
                    RowBox[{"\[Pi]", "/", "4"}]}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"40", ",", "40"}], "}"}]}]}], "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"Button", "[", 
                    RowBox[{"rRightGraphic", ",", 
                    RowBox[{
                    RowBox[{"objName", "[", "\"\<rotation\>\"", "]"}], "-=", 
                    RowBox[{"\[Pi]", "/", "4"}]}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"40", ",", "40"}], "}"}]}]}], "]"}]}], 
                    "\[IndentingNewLine]", "}"}], "]"}], ",", 
                   "\[IndentingNewLine]", 
                   RowBox[{"Row", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    "TextCell", "[", "\"\<Toggle Signals: \>\"", "]"}], ",", 
                    RowBox[{"signalController", "[", "objName", "]"}]}], 
                    "}"}], "]"}], ",", "\[IndentingNewLine]", 
                   RowBox[{"Row", "[", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"TextCell", "[", "\"\<Toggle Paths: \>\"", "]"}], 
                    ",", 
                    RowBox[{"pathSelector", "[", "objName", "]"}]}], "}"}], 
                    "]"}], ",", "\[IndentingNewLine]", 
                   RowBox[{"Button", "[", 
                    RowBox[{"\"\<Delete\>\"", ",", 
                    RowBox[{
                    RowBox[{"objName", "[", "\"\<delete\>\"", "]"}], ";", 
                    RowBox[{"DialogReturn", "[", "]"}]}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"90", ",", "30"}], "}"}]}]}], "]"}]}], 
                  "\[IndentingNewLine]", "}"}], ",", 
                 RowBox[{"Spacings", "\[Rule]", "1"}]}], "]"}]}], 
              "\[IndentingNewLine]", ")"}]}], ",", "\[IndentingNewLine]", 
            "\[IndentingNewLine]", 
            RowBox[{"\"\<delete\>\"", "\[RuleDelayed]", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"enviroment", "=", 
                RowBox[{"Delete", "[", 
                 RowBox[{"enviroment", ",", 
                  RowBox[{"objName", "[", "\"\<name\>\"", "]"}]}], "]"}]}], 
               ";", 
               RowBox[{"Clear", "[", "objName", "]"}]}], "}"}]}]}], 
           "\[IndentingNewLine]", "\[IndentingNewLine]", "|>"}]}], ";"}]}], 
       "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"newRoadSingleLane", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"objName", ",", "controlPoints"}], "}"}], ",", 
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"With", "[", 
        RowBox[{
         RowBox[{"{", "\[IndentingNewLine]", "\[IndentingNewLine]", 
          RowBox[{"nodeCount", "=", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"enviromentNodeIndices", "===", 
              RowBox[{"{", "}"}]}], ",", "0", ",", 
             RowBox[{"Last", "[", 
              RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], "]"}]}], 
            "]"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", "}"}], ",",
          "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"objName", "=", "\[IndentingNewLine]", 
           RowBox[{"<|", "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"\"\<name\>\"", "\[Rule]", 
              RowBox[{"ToString", "[", "objName", "]"}]}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"\"\<symbol\>\"", "\[Rule]", 
              RowBox[{"HoldForm", "[", "objName", "]"}]}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
             "\"\<controlPoints\>\"", "\[RuleDelayed]", "controlPoints"}], 
             ",", "\[IndentingNewLine]", 
             RowBox[{"\"\<basisPoints\>\"", "\[RuleDelayed]", 
              RowBox[{"pathPoints", "[", 
               RowBox[{"objName", "[", "\"\<controlPoints\>\"", "]"}], 
               "]"}]}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
             RowBox[{"\"\<nodePositions\>\"", "\[RuleDelayed]", 
              RowBox[{"Extract", "[", 
               RowBox[{
                RowBox[{"objName", "[", "\"\<basisPoints\>\"", "]"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"{", "1", "}"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"-", "2"}], "}"}]}], "}"}]}], "]"}]}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{"\"\<nodeIndex\>\"", "\[RuleDelayed]", 
              RowBox[{"associationThreadIndex", "[", 
               RowBox[{
                RowBox[{"objName", "[", "\"\<nodePositions\>\"", "]"}], ",", 
                "nodeCount"}], "]"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{"\"\<internalNodeConnections\>\"", "\[RuleDelayed]", 
              RowBox[{"DirectedEdge", "@@@", 
               RowBox[{"Permutations", "[", 
                RowBox[{"Keys", "[", 
                 RowBox[{"objName", "[", "\"\<nodeIndex\>\"", "]"}], "]"}], 
                "]"}]}]}], ",", "\[IndentingNewLine]", 
             RowBox[{"\"\<pathPoints\>\"", "\[RuleDelayed]", 
              RowBox[{"Reverse", "/@", 
               RowBox[{"lineOutset", "[", 
                RowBox[{
                 RowBox[{"objName", "[", "\"\<controlPoints\>\"", "]"}], ",", 
                 "1.5"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
             RowBox[{"\"\<pathSections\>\"", "\[RuleDelayed]", 
              RowBox[{"AssociationThread", "[", 
               RowBox[{
                RowBox[{"Partition", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"Delete", "[", "0", "]"}], "/@", 
                   RowBox[{
                   "objName", "[", "\"\<internalNodeConnections\>\"", "]"}]}],
                   ",", "2"}], "]"}], "\[Rule]", 
                RowBox[{"objName", "[", "\"\<pathPoints\>\"", "]"}]}], 
               "]"}]}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
             RowBox[{"\"\<graphics\>\"", "\[RuleDelayed]", " ", 
              RowBox[{"{", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"roadDraw", "[", 
                 RowBox[{"objName", "[", "\"\<controlPoints\>\"", "]"}], 
                 "]"}], ",", "\[IndentingNewLine]", 
                RowBox[{"{", 
                 RowBox[{"Red", ",", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"Disk", "[", 
                    RowBox[{"#", ",", "1"}], "]"}], "&"}], "/@", 
                   RowBox[{"objName", "[", "\"\<nodePositions\>\"", "]"}]}]}],
                  "}"}]}], "\[IndentingNewLine]", "}"}]}], ",", 
             "\[IndentingNewLine]", "\[IndentingNewLine]", 
             RowBox[{"\"\<clickBox\>\"", "\[RuleDelayed]", 
              RowBox[{"Flatten", "[", 
               RowBox[{
                RowBox[{"Join", "[", 
                 RowBox[{"lineOutset", "[", 
                  RowBox[{
                   RowBox[{"objName", "[", "\"\<controlPoints\>\"", "]"}], 
                   ",", "3"}], "]"}], "]"}], ",", "1"}], "]"}]}], ",", 
             "\[IndentingNewLine]", "\[IndentingNewLine]", 
             RowBox[{"\"\<mouseover\>\"", "\[RuleDelayed]", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"MousePosition", "[", "\"\<Graphics\>\"", "]"}], "=!=",
                  "None"}], ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{"inPolyQ", "[", 
                   RowBox[{
                    RowBox[{"objName", "[", "\"\<clickBox\>\"", "]"}], ",", 
                    RowBox[{"MousePosition", "[", "\"\<Graphics\>\"", "]"}]}],
                    "]"}], ",", 
                  RowBox[{"HoldForm", "@", "objName"}]}], "]"}]}], "]"}]}], 
             ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
             RowBox[{"\"\<mouseActionOpenInspector\>\"", "\[RuleDelayed]", 
              RowBox[{"(", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                    RowBox[{"objName", "[", "\"\<mouseover\>\"", "]"}], "===", 
                    RowBox[{"HoldForm", "[", "objName", "]"}]}], "&&", 
                   "allPalettesClosedQ"}], ",", "\[IndentingNewLine]", 
                  RowBox[{
                  "objName", "[", "\"\<openObjectInspectorPalette\>\"", 
                   "]"}]}], "\[IndentingNewLine]", "]"}], ";"}], 
               "\[IndentingNewLine]", ")"}]}], ",", "\[IndentingNewLine]", 
             "\[IndentingNewLine]", 
             RowBox[{"\"\<objNodeSnapTo\>\"", "\[RuleDelayed]", "Null"}], ",",
              "\[IndentingNewLine]", "\[IndentingNewLine]", 
             RowBox[{"\"\<beginRoadEdit\>\"", "\[RuleDelayed]", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"clickPts", "=", 
                 RowBox[{"clickPtsRevert", "=", 
                  RowBox[{"objName", "[", "\"\<controlPoints\>\"", "]"}]}]}], 
                ";", 
                RowBox[{
                 RowBox[{"objName", "[", "\"\<controlPoints\>\"", "]"}], ":=",
                  "clickPts"}], ";"}], ")"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{"\"\<cancelRoadEdit\>\"", "\[RuleDelayed]", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"objName", "[", "\"\<controlPoints\>\"", "]"}], "=", 
                 "clickPtsRevert"}], ";", 
                RowBox[{"clickPts", "=", 
                 RowBox[{"{", 
                  RowBox[{"clickPtsRevert", "\[LeftDoubleBracket]", 
                   RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], "}"}]}], 
                ";"}], ")"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{"\"\<saveRoadEdit\>\"", "\[RuleDelayed]", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"objName", "[", "\"\<controlPoints\>\"", "]"}], "=", 
                 "clickPts"}], ";", 
                RowBox[{"clickPts", "=", 
                 RowBox[{"{", 
                  RowBox[{"clickPts", "\[LeftDoubleBracket]", 
                   RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], "}"}]}], 
                ";"}], ")"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{"\"\<delete\>\"", "\[RuleDelayed]", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"enviroment", "=", 
                 RowBox[{"Delete", "[", 
                  RowBox[{"enviroment", ",", 
                   RowBox[{"objName", "[", "\"\<name\>\"", "]"}]}], "]"}]}], 
                ";", 
                RowBox[{"Clear", "[", "objName", "]"}], ";", 
                RowBox[{"clickPts", "=", 
                 RowBox[{"{", 
                  RowBox[{"clickPts", "\[LeftDoubleBracket]", 
                   RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], "}"}]}], 
                ";"}], "}"}]}], ",", "\[IndentingNewLine]", 
             "\[IndentingNewLine]", 
             RowBox[{
             "\"\<objectInspectorPaletteOpen\>\"", "\[RuleDelayed]", 
              "False"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
             RowBox[{"\"\<openObjectInspectorPalette\>\"", "\[RuleDelayed]", 
              RowBox[{"(", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{
                 RowBox[{
                 "objName", "[", "\"\<objectInspectorPaletteOpen\>\"", "]"}], 
                 "=", "True"}], ";", "\[IndentingNewLine]", 
                RowBox[{"CreatePalette", "[", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"objName", "[", "\"\<objectInspector\>\"", "]"}], 
                  ",", "\[IndentingNewLine]", 
                  RowBox[{"Saveable", "\[Rule]", "False"}], ",", 
                  "\[IndentingNewLine]", 
                  RowBox[{"WindowTitle", "\[Rule]", 
                   RowBox[{"objName", "[", "\"\<name\>\"", "]"}]}], ",", 
                  "\[IndentingNewLine]", 
                  RowBox[{"NotebookEventActions", "\[Rule]", 
                   RowBox[{"{", 
                    RowBox[{"\"\<WindowClose\>\"", "\[RuleDelayed]", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    "objName", "[", "\"\<objectInspectorPaletteOpen\>\"", 
                    "]"}], "=", "False"}], ";"}], ")"}]}], "}"}]}]}], 
                 "\[IndentingNewLine]", "]"}], ";"}], "\[IndentingNewLine]", 
               ")"}]}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
             RowBox[{"\"\<objectInspector\>\"", "\[RuleDelayed]", 
              RowBox[{"{", "\[IndentingNewLine]", 
               RowBox[{"Column", "[", 
                RowBox[{"{", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"Dynamic", "@", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Length", "[", "clickPts", "]"}], "\[Equal]", 
                    "1"}], ",", "\[IndentingNewLine]", 
                    RowBox[{"Button", "[", 
                    RowBox[{"\"\<Edit\>\"", ",", 
                    RowBox[{"objName", "[", "\"\<beginRoadEdit\>\"", "]"}], 
                    ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"100", ",", "30"}], "}"}]}]}], "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"Row", "[", 
                    RowBox[{"{", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"Button", "[", 
                    RowBox[{"\"\<Cancel\>\"", ",", 
                    RowBox[{"objName", "[", "\"\<cancelRoadEdit\>\"", "]"}], 
                    ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"50", ",", "30"}], "}"}]}]}], "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"Button", "[", 
                    RowBox[{"\"\<Save\>\"", ",", 
                    RowBox[{"objName", "[", "\"\<saveRoadEdit\>\"", "]"}], 
                    ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"50", ",", "30"}], "}"}]}]}], "]"}]}], 
                    "\[IndentingNewLine]", "}"}], "]"}]}], 
                    "\[IndentingNewLine]", "]"}]}], ",", 
                  "\[IndentingNewLine]", "\[IndentingNewLine]", 
                  RowBox[{"Button", "[", 
                   RowBox[{"\"\<Delete\>\"", ",", 
                    RowBox[{
                    RowBox[{"objName", "[", "\"\<delete\>\"", "]"}], ";", 
                    RowBox[{"DialogReturn", "[", "]"}]}], ",", 
                    RowBox[{"ImageSize", "\[Rule]", 
                    RowBox[{"{", 
                    RowBox[{"100", ",", "30"}], "}"}]}]}], "]"}]}], 
                 "\[IndentingNewLine]", "}"}], "]"}], "\[IndentingNewLine]", 
               "}"}]}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
            "|>"}]}], ";"}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
        "]"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"clickPts", "=", 
        RowBox[{"{", 
         RowBox[{"clickPts", "\[LeftDoubleBracket]", 
          RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], "}"}]}], ";"}]}], 
     "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"terminalNodes", ":=", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{"enviromentNodeIndices", "=", 
       RowBox[{"Join", "@@", 
        RowBox[{"Values", "[", 
         RowBox[{"enviroment", "\[LeftDoubleBracket]", 
          RowBox[{"All", ",", "\"\<nodeIndex\>\""}], 
          "\[RightDoubleBracket]"}], "]"}]}]}], "\[IndentingNewLine]", "}"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{"Pick", "[", "\[IndentingNewLine]", 
      RowBox[{"enviromentNodeIndices", ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Function", "[", 
         RowBox[{
          RowBox[{"{", "nodeID", "}"}], ",", 
          RowBox[{
           RowBox[{"Total", "[", 
            RowBox[{"Boole", "[", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"enviromentNodeIndices", "[", "nodeID", "]"}], 
                "\[Equal]", 
                RowBox[{"enviromentNodeIndices", "[", "#", "]"}]}], "&"}], "/@", 
              RowBox[{"Complement", "[", 
               RowBox[{
                RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
                RowBox[{"{", "nodeID", "}"}]}], "]"}]}], "]"}], "]"}], ">", 
           "0"}]}], "]"}], "/@", 
        RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}]}], ",", 
       "\[IndentingNewLine]", "False"}], "\[IndentingNewLine]", "]"}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"enviromentNodeInternalConnections", ":=", 
   RowBox[{"Join", "@@", 
    RowBox[{"Values", "[", 
     RowBox[{"enviroment", "\[LeftDoubleBracket]", 
      RowBox[{"All", ",", "\"\<pathSections\>\""}], "\[RightDoubleBracket]"}],
      "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"enviromentNodeIndices", ":=", 
    RowBox[{"Join", "@@", 
     RowBox[{"Values", "[", 
      RowBox[{"enviroment", "\[LeftDoubleBracket]", 
       RowBox[{"All", ",", "\"\<nodeIndex\>\""}], "\[RightDoubleBracket]"}], 
      "]"}]}]}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"nodeConnectedQ", "=", 
   RowBox[{"Function", "[", 
    RowBox[{
     RowBox[{"{", "nodeID", "}"}], ",", 
     RowBox[{
      RowBox[{"Total", "[", 
       RowBox[{"Boole", "[", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"enviromentNodeIndices", "[", "nodeID", "]"}], "\[Equal]", 
           RowBox[{"enviromentNodeIndices", "[", "#", "]"}]}], "&"}], "/@", 
         RowBox[{"Complement", "[", 
          RowBox[{
           RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
           RowBox[{"{", "nodeID", "}"}]}], "]"}]}], "]"}], "]"}], ">", 
      "0"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"nodeConnectedTo", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", "nodeID", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"Pick", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Complement", "[", 
         RowBox[{
          RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
          RowBox[{"{", "nodeID", "}"}]}], "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"enviromentNodeIndices", "[", "nodeID", "]"}], "\[Equal]", 
           RowBox[{"enviromentNodeIndices", "[", "#", "]"}]}], "&"}], "/@", 
         RowBox[{"Complement", "[", 
          RowBox[{
           RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
           RowBox[{"{", "nodeID", "}"}]}], "]"}]}], ",", 
        "\[IndentingNewLine]", "True"}], "\[IndentingNewLine]", "]"}]}], 
     "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"enviromentNodeConnections", ":=", 
   RowBox[{"With", "[", 
    RowBox[{
     RowBox[{"{", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"enviromentNodeIndices", "=", 
        RowBox[{"Join", "@@", 
         RowBox[{"Values", "[", 
          RowBox[{"enviroment", "\[LeftDoubleBracket]", 
           RowBox[{"All", ",", "\"\<nodeIndex\>\""}], 
           "\[RightDoubleBracket]"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"enviromentNodeInternalConnections", "=", 
        RowBox[{"Join", "@@", 
         RowBox[{"Values", "[", 
          RowBox[{"enviroment", "\[LeftDoubleBracket]", 
           RowBox[{"All", ",", "\"\<pathSections\>\""}], 
           "\[RightDoubleBracket]"}], "]"}]}]}]}], "\[IndentingNewLine]", 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"Join", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"DirectedEdge", "@@@", 
        RowBox[{"Keys", "[", "enviromentNodeInternalConnections", "]"}]}], 
       ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"DirectedEdge", "[", 
          RowBox[{"#", ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Function", "[", 
              RowBox[{
               RowBox[{"{", "nodeID", "}"}], ",", "\[IndentingNewLine]", 
               RowBox[{"Pick", "[", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"Complement", "[", 
                  RowBox[{
                   RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
                   RowBox[{"{", "nodeID", "}"}]}], "]"}], ",", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{
                   RowBox[{
                    RowBox[{"enviromentNodeIndices", "[", "nodeID", "]"}], 
                    "\[Equal]", 
                    RowBox[{"enviromentNodeIndices", "[", "#", "]"}]}], "&"}],
                   "/@", 
                  RowBox[{"Complement", "[", 
                   RowBox[{
                    RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
                    RowBox[{"{", "nodeID", "}"}]}], "]"}]}], ",", 
                 "\[IndentingNewLine]", "True"}], "\[IndentingNewLine]", 
                "]"}]}], "\[IndentingNewLine]", "]"}], "[", "#", "]"}], 
            "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], "]"}], 
         "&"}], "/@", "\[IndentingNewLine]", 
        RowBox[{"Pick", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", "nodeID", "}"}], ",", 
             RowBox[{
              RowBox[{"Total", "[", 
               RowBox[{"Boole", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                   RowBox[{"enviromentNodeIndices", "[", "nodeID", "]"}], 
                   "\[Equal]", 
                   RowBox[{"enviromentNodeIndices", "[", "#", "]"}]}], "&"}], 
                 "/@", 
                 RowBox[{"Complement", "[", 
                  RowBox[{
                   RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
                   RowBox[{"{", "nodeID", "}"}]}], "]"}]}], "]"}], "]"}], ">",
               "0"}]}], "]"}], "/@", 
           RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}]}], ",", 
          "\[IndentingNewLine]", "True"}], "\[IndentingNewLine]", "]"}]}]}], 
      "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"roadNetworkGraph", ":=", 
    RowBox[{"With", "[", 
     RowBox[{
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"enviromentNodeIndices", "=", 
         RowBox[{"Join", "@@", 
          RowBox[{"Values", "[", 
           RowBox[{"enviroment", "\[LeftDoubleBracket]", 
            RowBox[{"All", ",", "\"\<nodeIndex\>\""}], 
            "\[RightDoubleBracket]"}], "]"}]}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"enviromentNodeInternalConnections", "=", 
         RowBox[{"Join", "@@", 
          RowBox[{"Values", "[", 
           RowBox[{"enviroment", "\[LeftDoubleBracket]", 
            RowBox[{"All", ",", "\"\<pathSections\>\""}], 
            "\[RightDoubleBracket]"}], "]"}]}]}]}], "\[IndentingNewLine]", 
       "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"With", "[", 
       RowBox[{
        RowBox[{"{", "\[IndentingNewLine]", 
         RowBox[{"enviromentNodeConnections", "=", "\[IndentingNewLine]", 
          RowBox[{"Join", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"DirectedEdge", "@@@", 
             RowBox[{
             "Keys", "[", "enviromentNodeInternalConnections", "]"}]}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{
              RowBox[{"DirectedEdge", "[", 
               RowBox[{"#", ",", 
                RowBox[{
                 RowBox[{
                  RowBox[{"Function", "[", 
                   RowBox[{
                    RowBox[{"{", "nodeID", "}"}], ",", "\[IndentingNewLine]", 
                    RowBox[{"Pick", "[", "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{"Complement", "[", 
                    RowBox[{
                    RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
                    RowBox[{"{", "nodeID", "}"}]}], "]"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"enviromentNodeIndices", "[", "nodeID", "]"}], 
                    "\[Equal]", 
                    RowBox[{"enviromentNodeIndices", "[", "#", "]"}]}], "&"}],
                     "/@", 
                    RowBox[{"Complement", "[", 
                    RowBox[{
                    RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
                    RowBox[{"{", "nodeID", "}"}]}], "]"}]}], ",", 
                    "\[IndentingNewLine]", "True"}], "\[IndentingNewLine]", 
                    "]"}]}], "\[IndentingNewLine]", "]"}], "[", "#", "]"}], 
                 "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
               "]"}], "&"}], "/@", "\[IndentingNewLine]", 
             RowBox[{"Pick", "[", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
               "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"Function", "[", 
                 RowBox[{
                  RowBox[{"{", "nodeID", "}"}], ",", 
                  RowBox[{
                   RowBox[{"Total", "[", 
                    RowBox[{"Boole", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"enviromentNodeIndices", "[", "nodeID", "]"}], 
                    "\[Equal]", 
                    RowBox[{"enviromentNodeIndices", "[", "#", "]"}]}], "&"}],
                     "/@", 
                    RowBox[{"Complement", "[", 
                    RowBox[{
                    RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}], ",", 
                    RowBox[{"{", "nodeID", "}"}]}], "]"}]}], "]"}], "]"}], 
                   ">", "0"}]}], "]"}], "/@", 
                RowBox[{"Keys", "[", "enviromentNodeIndices", "]"}]}], ",", 
               "\[IndentingNewLine]", "True"}], "\[IndentingNewLine]", 
              "]"}]}]}], "\[IndentingNewLine]", "]"}]}], 
         "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Graph", "[", "\[IndentingNewLine]", 
         RowBox[{"enviromentNodeConnections", ",", "\[IndentingNewLine]", 
          RowBox[{"VertexCoordinates", "\[Rule]", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"Plus", "[", 
               RowBox[{"#", ",", 
                RowBox[{"RandomReal", "[", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"-", "0.1"}], ",", "0.1"}], "}"}], "]"}]}], "]"}], 
              "&"}], "/@", 
             RowBox[{"Values", "[", "enviromentNodeIndices", "]"}]}], ")"}]}],
           ",", "\[IndentingNewLine]", 
          RowBox[{"EdgeWeight", "\[Rule]", "\[IndentingNewLine]", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{"KeyExistsQ", "[", 
                 RowBox[{"enviromentNodeInternalConnections", ",", "#"}], 
                 "]"}], ",", "\[IndentingNewLine]", 
                RowBox[{"ArcLength", "[", 
                 RowBox[{"Line", "[", 
                  RowBox[{
                  "enviromentNodeInternalConnections", "[", "#", "]"}], "]"}],
                  "]"}], ",", "\[IndentingNewLine]", "0"}], 
               "\[IndentingNewLine]", "]"}], "&"}], "/@", 
             RowBox[{"(", 
              RowBox[{"Partition", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"Delete", "[", "0", "]"}], "/@", 
                 RowBox[{"EdgeList", "[", 
                  RowBox[{"Graph", "[", "enviromentNodeConnections", "]"}], 
                  "]"}]}], ",", "2"}], "]"}], ")"}]}], ")"}]}]}], 
         "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}], 
     "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\n"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{
  3.683705982375765*^9, {3.6837224810918503`*^9, 3.683722547773464*^9}, {
   3.6837226552660666`*^9, 3.6837226688463917`*^9}, {3.6837229542632985`*^9, 
   3.683722960493452*^9}, {3.6838233598375816`*^9, 3.6838233780857196`*^9}, {
   3.683840985916291*^9, 3.6838410011466455`*^9}, {3.683882911880412*^9, 
   3.6838829122804155`*^9}, 3.6853785931681414`*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"enviroment", "=", 
    RowBox[{"<|", "|>"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"enviromentNodeIndices", ":=", 
    RowBox[{"Join", "@@", 
     RowBox[{"Values", "[", 
      RowBox[{"enviroment", "\[LeftDoubleBracket]", 
       RowBox[{"All", ",", "\"\<nodeIndex\>\""}], "\[RightDoubleBracket]"}], 
      "]"}]}]}], ";"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"associationThreadIndex", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"value", ",", "int"}], "}"}], ",", 
      RowBox[{"AssociationThread", "[", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Range", "[", 
           RowBox[{"Length", "[", "value", "]"}], "]"}], "+", "int"}], ")"}], 
        "\[Rule]", "value"}], "]"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"objectToEnviroment", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", "objName", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"AppendTo", "[", 
        RowBox[{"enviroment", ",", 
         RowBox[{
          RowBox[{"objName", "[", "\"\<name\>\"", "]"}], "\[Rule]", 
          "objName"}]}], "]"}], ";", "\[IndentingNewLine]", 
       RowBox[{
       "objName", "[", "\"\<openObjectInspectorPalette\>\"", "]"}]}]}], 
     "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"locatorSnapToNode", ":=", 
    RowBox[{"(", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Length", "[", 
          RowBox[{"enviroment", "\[LeftDoubleBracket]", 
           RowBox[{"All", ",", "\"\<nodePositions\>\""}], 
           "\[RightDoubleBracket]"}], "]"}], ">", "0"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{"first", " ", "locator"}], " ", "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"With", "[", 
          RowBox[{
           RowBox[{"{", "\[IndentingNewLine]", 
            RowBox[{"snapTo", "=", 
             RowBox[{"Flatten", "[", 
              RowBox[{"Nearest", "[", 
               RowBox[{
                RowBox[{"Flatten", "[", 
                 RowBox[{
                  RowBox[{"Values", "[", 
                   RowBox[{"enviroment", "\[LeftDoubleBracket]", 
                    RowBox[{"All", ",", "\"\<nodePositions\>\""}], 
                    "\[RightDoubleBracket]"}], "]"}], ",", "1"}], "]"}], ",", 
                RowBox[{
                "clickPts", "\[LeftDoubleBracket]", "1", 
                 "\[RightDoubleBracket]"}], ",", 
                RowBox[{"{", 
                 RowBox[{"1", ",", "5"}], "}"}]}], "]"}], "]"}]}], 
            "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"snapTo", "\[NotEqual]", 
              RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{
              "clickPts", "\[LeftDoubleBracket]", "1", 
               "\[RightDoubleBracket]"}], "+=", 
              RowBox[{"(", 
               RowBox[{"snapTo", "-", 
                RowBox[{
                "clickPts", "\[LeftDoubleBracket]", "1", 
                 "\[RightDoubleBracket]"}]}], ")"}]}]}], 
            "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}], ";",
          "\[IndentingNewLine]", 
         RowBox[{"(*", " ", 
          RowBox[{
           RowBox[{"last", " ", "locator"}], " ", "-", " ", 
           RowBox[{"for", " ", "drawing", " ", "road"}]}], " ", "*)"}], 
         "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"Length", "[", "clickPts", "]"}], ">", "3"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"With", "[", 
            RowBox[{
             RowBox[{"{", "\[IndentingNewLine]", 
              RowBox[{"snapTo", "=", 
               RowBox[{"Flatten", "[", 
                RowBox[{"Nearest", "[", 
                 RowBox[{
                  RowBox[{"Flatten", "[", 
                   RowBox[{
                    RowBox[{"Values", "[", 
                    RowBox[{"enviroment", "\[LeftDoubleBracket]", 
                    RowBox[{"All", ",", "\"\<nodePositions\>\""}], 
                    "\[RightDoubleBracket]"}], "]"}], ",", "1"}], "]"}], ",", 
                  RowBox[{"clickPts", "\[LeftDoubleBracket]", 
                   RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], ",", 
                  RowBox[{"{", 
                   RowBox[{"1", ",", "5"}], "}"}]}], "]"}], "]"}]}], 
              "\[IndentingNewLine]", "}"}], ",", "\[IndentingNewLine]", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"snapTo", "\[NotEqual]", 
                RowBox[{"{", "}"}]}], ",", "\[IndentingNewLine]", 
               RowBox[{
                RowBox[{"clickPts", "\[LeftDoubleBracket]", 
                 RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], "+=", 
                RowBox[{"(", 
                 RowBox[{"snapTo", "-", 
                  RowBox[{
                   RowBox[{"Most", "[", 
                    RowBox[{"pathPoints", "[", "clickPts", "]"}], "]"}], 
                   "\[LeftDoubleBracket]", 
                   RowBox[{"-", "1"}], "\[RightDoubleBracket]"}]}], ")"}]}]}],
               "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}],
           "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", "]"}], 
      ";"}], "\[IndentingNewLine]", ")"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"allPalettesClosedQ", ":=", 
    RowBox[{
     RowBox[{"Total", "[", 
      RowBox[{"Boole", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"ReleaseHold", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"Values", "[", 
             RowBox[{"enviroment", "\[LeftDoubleBracket]", 
              RowBox[{"All", ",", "\"\<symbol\>\""}], 
              "\[RightDoubleBracket]"}], "]"}], "\[LeftDoubleBracket]", "#", 
            "\[RightDoubleBracket]"}], "[", 
           "\"\<objectInspectorPaletteOpen\>\"", "]"}], "]"}], "&"}], "/@", 
        RowBox[{"Range", "[", 
         RowBox[{"Length", "[", "enviroment", "]"}], "]"}]}], "]"}], "]"}], 
     "\[Equal]", "0"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"dataRow", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"label", ",", "output"}], "}"}], ",", 
      RowBox[{"Row", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"TextCell", "[", "label", "]"}], ",", "output"}], "}"}], 
       "]"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"signalController", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", "objName", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"Row", "[", 
       RowBox[{"Append", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"Button", "[", 
            RowBox[{"#", ",", 
             RowBox[{
              RowBox[{"objName", "[", "\"\<toggleSignalState\>\"", "]"}], "[",
               "#", "]"}]}], "]"}], "&"}], "/@", 
          RowBox[{"Keys", "[", 
           RowBox[{"objName", "[", "\"\<signalState\>\"", "]"}], "]"}]}], ",",
          "\[IndentingNewLine]", 
         RowBox[{"Button", "[", 
          RowBox[{"\"\<Reset\>\"", ",", 
           RowBox[{"objName", "[", "\"\<resetSignalState\>\"", "]"}]}], 
          "]"}]}], "\[IndentingNewLine]", "]"}], "]"}]}], 
     "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"pathSelector", "=", 
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", "objName", "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"Row", "[", 
       RowBox[{"Append", "[", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{
           RowBox[{"Button", "[", 
            RowBox[{"#", ",", 
             RowBox[{
              RowBox[{"objName", "[", "\"\<togglePathSelect\>\"", "]"}], "[", 
              "#", "]"}]}], "]"}], "&"}], "/@", 
          RowBox[{"Keys", "[", 
           RowBox[{"objName", "[", "\"\<pathHighlightPick\>\"", "]"}], 
           "]"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{"Button", "[", 
          RowBox[{"\"\<Reset\>\"", ",", 
           RowBox[{"objName", "[", "\"\<resetPathSelect\>\"", "]"}]}], 
          "]"}]}], "\[IndentingNewLine]", "]"}], "]"}]}], 
     "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"rLeftGraphic", "=", 
    RowBox[{"Graphics", "[", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Arrowheads", "[", "0.35", "]"}], ",", "Thick", ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Arrow", "[", 
        RowBox[{"BSplineCurve", "[", 
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Cos", "[", "x", "]"}], ",", 
             RowBox[{"Sin", "[", "x", "]"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"x", ",", "0", ",", "Pi", ",", 
             RowBox[{"Pi", "/", "20"}]}], "}"}]}], "]"}], "]"}], "]"}]}], 
      "\[IndentingNewLine]", "}"}], "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"rRightGraphic", "=", 
    RowBox[{"Graphics", "[", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Arrowheads", "[", "0.35", "]"}], ",", "Thick", ",", 
       "\[IndentingNewLine]", 
       RowBox[{"Arrow", "[", 
        RowBox[{"BSplineCurve", "[", 
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Cos", "[", "x", "]"}], ",", 
             RowBox[{"Sin", "[", "x", "]"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"x", ",", "Pi", ",", "0", ",", 
             RowBox[{
              RowBox[{"-", "Pi"}], "/", "20"}]}], "}"}]}], "]"}], "]"}], 
        "]"}]}], "\[IndentingNewLine]", "}"}], "\[IndentingNewLine]", "]"}]}],
    ";"}], "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"clickPts", "=", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Framed", "[", "\[IndentingNewLine]", 
   RowBox[{"LocatorPane", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Dynamic", "[", "clickPts", "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"EventHandler", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"Dynamic", "[", "\[IndentingNewLine]", 
        RowBox[{"Graphics", "[", 
         RowBox[{
          RowBox[{"{", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"Values", "[", 
             RowBox[{"enviroment", "\[LeftDoubleBracket]", 
              RowBox[{"All", ",", "\"\<graphics\>\""}], 
              "\[RightDoubleBracket]"}], "]"}], ",", "\[IndentingNewLine]", 
            RowBox[{"If", "[", 
             RowBox[{"allPalettesClosedQ", ",", 
              RowBox[{"roadDraw", "[", "clickPts", "]"}], ",", 
              RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
           "\[IndentingNewLine]", "}"}], ",", 
          RowBox[{"PlotRange", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "100"}], ",", "100"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"-", "100"}], ",", "100"}], "}"}]}], "}"}]}], ",", 
          RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}], 
        "\[IndentingNewLine]", "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"\"\<MouseDown\>\"", "\[RuleDelayed]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"CurrentValue", "[", "\"\<MouseClickCount\>\"", "]"}], 
             "\[Equal]", "2"}], ",", 
            RowBox[{"Values", "[", 
             RowBox[{"enviroment", "\[LeftDoubleBracket]", 
              RowBox[{"All", ",", "\"\<mouseActionOpenInspector\>\""}], 
              "\[RightDoubleBracket]"}], "]"}]}], "]"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"\"\<MouseDragged\>\"", ",", "2"}], "}"}], 
          "\[RuleDelayed]", " ", 
          RowBox[{"Values", "[", 
           RowBox[{"enviroment", "\[LeftDoubleBracket]", 
            RowBox[{"All", ",", "\"\<mouseActionMoveObject\>\""}], 
            "\[RightDoubleBracket]"}], "]"}]}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"\"\<MouseUp\>\"", ",", "1"}], "}"}], "\[RuleDelayed]", 
          "locatorSnapToNode"}]}], "\[IndentingNewLine]", "}"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"PassEventsDown", "\[Rule]", "True"}]}], "\[IndentingNewLine]",
       "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"LocatorAutoCreate", "\[Rule]", 
      RowBox[{"Dynamic", "[", "allPalettesClosedQ", "]"}]}]}], 
    "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", "]"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"double", "-", 
    RowBox[{"left", " ", "click", " ", "object", " ", "to", " ", "select"}]}],
    " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
   "right", " ", "click", " ", "drag", " ", "to", " ", "move", " ", 
    "selected", " ", "object"}], " ", "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"use", " ", "alt"}], "-", 
    RowBox[{
    "click", " ", "to", " ", "place", " ", "additional", " ", "markers", " ", 
     "and", " ", "draw", " ", "roads"}]}], " ", "*)"}]}]}], "Input",
 CellChangeTimes->{{3.683796926500923*^9, 3.6837969359218554`*^9}, 
   3.683807049785103*^9, {3.6838091424799414`*^9, 3.6838091485800886`*^9}, {
   3.6838282280675135`*^9, 3.6838282295048943`*^9}, {3.6838391185224824`*^9, 
   3.6838391499832287`*^9}, {3.683882494912547*^9, 3.6838824955611153`*^9}, 
   3.68388265926626*^9, {3.68388284532256*^9, 3.68388285873557*^9}, {
   3.6838833101608224`*^9, 3.683883315609178*^9}, {3.6838840912927895`*^9, 
   3.6838840925998774`*^9}, {3.683895018319091*^9, 3.6838950186642194`*^9}, 
   3.6838953430350747`*^9, {3.68389673003242*^9, 3.683896735812823*^9}, 
   3.6853786213889017`*^9}],

Cell[BoxData[
 FrameBox[
  LocatorPaneBox[Dynamic[$CellContext`clickPts], 
   TagBox[
    DynamicBox[ToBoxes[
      Graphics[{
        Values[
         Part[$CellContext`enviroment, All, "graphics"]], 
        If[$CellContext`allPalettesClosedQ, 
         $CellContext`roadDraw[$CellContext`clickPts], {}]}, 
       PlotRange -> {{-100, 100}, {-100, 100}}, ImageSize -> Large], 
      StandardForm],
     ImageSizeCache->{576., {285., 291.}}],
    EventHandlerTag[{"MouseDown" :> If[CurrentValue["MouseClickCount"] == 2, 
        Values[
         Part[$CellContext`enviroment, All, "mouseActionOpenInspector"]]], {
       "MouseDragged", 2} :> Values[
        Part[$CellContext`enviroment, All, "mouseActionMoveObject"]], {
       "MouseUp", 1} :> $CellContext`locatorSnapToNode, PassEventsDown -> 
      True, Method -> "Preemptive", PassEventsUp -> True}]],
   LocatorAutoCreate->Dynamic[$CellContext`allPalettesClosedQ]],
  StripOnInput->False]], "Output",
 CellChangeTimes->{
  3.685377933080737*^9, {3.6853782612854223`*^9, 3.6853782789114466`*^9}, 
   3.685378338967289*^9, 3.6853786156087446`*^9, 3.6853789371261334`*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"*", " ", "add", " ", "objects"}], " ", "**)"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{"objects", " ", "must", " ", "be", " ", "deselected", " ", 
    RowBox[{"(", 
     RowBox[{"close", " ", 
      RowBox[{"object", "'"}], "s", " ", "control", " ", "palette"}], ")"}], 
    " ", "before", " ", "adding", " ", "new"}], " ", "*)"}]}]], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGAQAWIQ3VGgfLuo6LWjvo8vmH4xdf1fEK3T/gtM1zz4pVcJ
pNfss9UH0Yvin1uBaAdBeWsQvSrpSQaInnXxQxaIrvhgXwmi1dI2V4NoSe+Y
XSB61yfpPSD6yettp0G0mehvMN1rXzBzBpBu0t4FplfJNqydBaSZjt8F08ci
udbPBdJaz93B9M8vvhePAulpL1+D6Y8ydXdBNNO002C6ylTk1jEQ/c4bTNto
lbwE0QoT94DpJbYrZI4D6T73B2A64Vm3HYiu6P8CpkMmTZb1LX3tKOZ9CUw/
Yt7uDaIfxJgHg+ierxIxIHqS4bVkEA0AoZWtAg==
  "]],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"place", " ", "new", " ", "junction"}], " ", "-", " ", 
    RowBox[{"`junction1`", " ", "is", " ", "unique", " ", "object", " ", 
     RowBox[{"name", ".", "  ", "Make"}], " ", "sure", " ", "to", " ", 
     "change", " ", "when", " ", "adding", " ", "new", " ", "objects"}]}], 
   " ", "*)"}], "  ", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"newJunctionMarketStreet", "[", 
     RowBox[{"junction1", ",", 
      RowBox[{"Flatten", "[", "clickPts", "]"}], ",", "0"}], "]"}], ";"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"objectToEnviroment", "[", "junction1", "]"}], ";"}]}]}]], "Input",
 CellChangeTimes->CompressedData["
1:eJxTTMoPSmViYGAQAWIQ3VGgfLuo6LWjvo8vmH4xdf1fEK3T/gtM1zz4pVcJ
pNfss9UH0Yvin1uBaAdBeWsQvSrpSQaInnXxQxaIrvhgXwmi1dI2V4NoSe+Y
XSB61yfpPSD6yettp0G0mehvMN1rXzBzBpBu0t4FplfJNqydBaSZjt8F08ci
udbPBdJaz93B9M8vvhePAulpL1+D6Y8ydXdBNNO002C6ylTk1jEQ/c4bTNto
lbwE0QoT94DpJbYrZI4D6T73B2A64Vm3HYiu6P8CpkMmTZb1LX3tKOZ9CUw/
Yt7uDaIfxJgHg+ierxIxIHqS4bVkEA0AoZWtAg==
  "]],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"alt", "-", 
    RowBox[{"click", " ", "to", " ", "add", " ", 
     RowBox[{"markers", ".", "  ", "road"}], " ", "generates", " ", "on", " ",
      "4", "th", " ", 
     RowBox[{"marker", "."}]}]}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{"(*", " ", 
   RowBox[{
    RowBox[{"place", " ", "new", " ", "road"}], " ", "-", " ", 
    RowBox[{"`junction1`", " ", "is", " ", "unique", " ", "object", " ", 
     RowBox[{"name", ".", "  ", "Make"}], " ", "sure", " ", "to", " ", 
     "change", " ", "when", " ", "adding", " ", "new", " ", "objects"}]}], 
   " ", "*)"}], "  ", "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"newRoadSingleLane", "[", 
     RowBox[{"road1", ",", "clickPts"}], "]"}], ";"}], "\n", 
   RowBox[{
    RowBox[{"objectToEnviroment", "[", "road1", "]"}], ";"}]}]}]], "Input",
 CellChangeTimes->{{3.68383689775039*^9, 3.683836950071619*^9}, 
   3.6838371618965874`*^9, {3.683838995149593*^9, 3.683838996859645*^9}, {
   3.6838392256349955`*^9, 3.6838392277450466`*^9}, {3.6838970409856467`*^9, 
   3.6838970429839935`*^9}, {3.683964832990017*^9, 3.6839648350800753`*^9}, {
   3.68405559056715*^9, 3.684055592775712*^9}, {3.6840556607699904`*^9, 
   3.6840556632524843`*^9}, {3.6840557583053303`*^9, 
   3.6840557604768844`*^9}, {3.6853783023674603`*^9, 
   3.6853783039970655`*^9}, {3.6853787216948433`*^9, 3.685378774239685*^9}}]
},
WindowSize->{1366, 725},
WindowMargins->{{-8, Automatic}, {Automatic, -8}},
FrontEndVersion->"11.0 for Microsoft Windows (64-bit) (July 28, 2016)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[558, 20, 133655, 2981, 11963, "Input"],
Cell[CellGroupData[{
Cell[134238, 3005, 14763, 361, 1703, "Input"],
Cell[149004, 3368, 1128, 24, 609, "Output"]
}, Open  ]],
Cell[150147, 3395, 806, 18, 50, "Input"],
Cell[150956, 3415, 1077, 24, 126, "Input"],
Cell[152036, 3441, 1424, 28, 88, "Input"]
}
]
*)

